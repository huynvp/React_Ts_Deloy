"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[506],{8250:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(9439),i=a(6106),s=a(914),o=a(2791),l=a(7689),u=a(2611),d=a(4492),c=a(9256),r=a(2684),v=a(698),f=(a(7121),a(6974)),y=a(8885),j=a(1095),x=a(1830),p=a.n(x),h=a(3778),b=a(7335),g=a(3433),k=a(184);function K(e){var t,a,n,i,s,o,l,u,d,c,r,v,f,y,j,x,p,h,K,m;function L(t,a){var n=e.data;void 0===n[a]&&(n[a]={}),n[a].key=t,e.setData((0,g.Z)(e.data))}function I(t,a){var n=e.data;void 0===n[a]&&(n[a]={}),n[a].value=t,e.setData((0,g.Z)(e.data))}return(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:"Headers"}),(0,k.jsx)(b.H.Input,{label:"Key 1",value:null===(t=e.data[0])||void 0===t?void 0:t.key,setValue:function(e){L(e,0)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 1",value:null===(a=e.data[0])||void 0===a?void 0:a.value,setValue:function(e){I(e,0)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 2",value:null===(n=e.data[1])||void 0===n?void 0:n.key,setValue:function(e){L(e,1)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 2",value:null===(i=e.data[1])||void 0===i?void 0:i.value,setValue:function(e){I(e,1)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 3",value:null===(s=e.data[2])||void 0===s?void 0:s.key,setValue:function(e){L(e,2)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 3",value:null===(o=e.data[2])||void 0===o?void 0:o.value,setValue:function(e){I(e,2)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 4",value:null===(l=e.data[3])||void 0===l?void 0:l.key,setValue:function(e){L(e,3)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 4",value:null===(u=e.data[3])||void 0===u?void 0:u.value,setValue:function(e){I(e,3)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 5",value:null===(d=e.data[4])||void 0===d?void 0:d.key,setValue:function(e){L(e,4)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 5",value:null===(c=e.data[4])||void 0===c?void 0:c.value,setValue:function(e){I(e,4)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 6",value:null===(r=e.data[5])||void 0===r?void 0:r.key,setValue:function(e){L(e,5)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 6",value:null===(v=e.data[5])||void 0===v?void 0:v.value,setValue:function(e){I(e,5)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 7",value:null===(f=e.data[6])||void 0===f?void 0:f.key,setValue:function(e){L(e,6)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 7",value:null===(y=e.data[6])||void 0===y?void 0:y.value,setValue:function(e){I(e,6)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 8",value:null===(j=e.data[7])||void 0===j?void 0:j.key,setValue:function(e){L(e,7)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 8",value:null===(x=e.data[7])||void 0===x?void 0:x.value,setValue:function(e){I(e,7)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 9",value:null===(p=e.data[8])||void 0===p?void 0:p.key,setValue:function(e){L(e,8)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 9",value:null===(h=e.data[8])||void 0===h?void 0:h.value,setValue:function(e){I(e,8)}}),(0,k.jsx)("hr",{}),(0,k.jsx)(b.H.Input,{label:"Key 10",value:null===(K=e.data[9])||void 0===K?void 0:K.key,setValue:function(e){L(e,9)}}),(0,k.jsx)(b.H.TextArea,{label:"Value 10",value:null===(m=e.data[9])||void 0===m?void 0:m.value,setValue:function(e){I(e,9)}}),(0,k.jsx)("hr",{})]})}function m(e){var t=(0,o.useState)([]),a=(0,n.Z)(t,2),i=a[0],s=a[1],l=(0,o.useState)(""),u=(0,n.Z)(l,2),c=u[0],v=u[1],f=(0,o.useState)(0),x=(0,n.Z)(f,2),g=x[0],m=x[1],L=(0,o.useState)(""),I=(0,n.Z)(L,2),Z=I[0],D=I[1],V=(0,o.useState)(""),S=(0,n.Z)(V,2),C=S[0],H=S[1],E=e.setIsLoading;function T(){e.setVisible(!1),s([]),v(""),m(0),D(""),H(""),void 0!==e.setKeyData&&e.setKeyData(void 0)}var A=(0,o.useState)(),O=(0,n.Z)(A,2),P=O[0],G=O[1];var F=(0,o.useCallback)((function(){void 0!==e.keyData&&(E(!0),d.jz.GetDetail(e.projectKey,e.folderKey,e.keyData,(function(e){console.log(e);var t=e.data.data;s(t.headers),v(t.name),m(t.method),D(t.url),H(null===t.body?"":JSON.stringify(t.body))}),void 0,(function(){E(!1)})))}),[e.projectKey,e.folderKey,e.keyData,E]);function z(e){(function(e){try{return JSON.parse(e)&&!!e}catch(t){return!1}})(e)&&G(JSON.parse(e)),H(e)}return(0,o.useEffect)((function(){F()}),[F]),(0,k.jsx)(y.Z,{title:void 0===e.keyData?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda",open:e.visible,onClose:T,children:(0,k.jsxs)(j.Z,{layout:"vertical",onSubmitCapture:function(){e.setIsLoading(!0);var t={name:c,headers:i,url:Z,method:g,body:P};void 0===e.keyData?function(t){d.jz.Add(e.projectKey,e.folderKey,t,(function(t){h.Fn.PrintMsgSuccess(t),e.loadData(),T()}),(function(){e.setIsLoading(!1)}))}(t):function(t){d.jz.GetDetail(e.projectKey,e.folderKey,e.keyData,(function(a){t=h.Fn.GetTimestamp(a,t),d.jz.Edit(e.projectKey,e.folderKey,e.keyData,t,(function(t){h.Fn.PrintMsgSuccess(t),e.loadData(),T()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)},children:[(0,k.jsx)(b.H.Input,{label:"T\xean",value:c,setValue:v}),(0,k.jsx)(b.H.Select,{label:"Ph\u01b0\u01a1ng th\u1ee9c",options:[{value:1,label:"Get"},{value:2,label:"Post"},{value:3,label:"Put"},{value:4,label:"Delete"}],value:g,setValue:m}),(0,k.jsx)(b.H.Input,{label:"URL",value:Z,setValue:D}),(0,k.jsx)(K,{data:i,setData:s}),(0,k.jsx)(b.H.TextArea,{label:"Body",value:C,setValue:function(e){z(e)}}),(0,k.jsx)(r.O,{htmlType:"submit",type:"success",value:void 0===e.keyData?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda"}),(0,k.jsx)(r.O,{type:"danger",onClick:function(){p().fire("X\xe1c nh\u1eadn x\xf3a","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a d\u1eef li\u1ec7u kh\xf4ng?","question").then((function(t){t.isConfirmed&&(e.setIsLoading(!0),d.jz.GetDetail(e.projectKey,e.folderKey,e.keyData,(function(t){d.jz.Delete(e.projectKey,e.folderKey,e.keyData,h.Fn.GetTimestamp(t),(function(t){h.Fn.PrintMsgSuccess(t),e.loadData(),T()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)})))}))},disabled:void 0===e.keyData,value:"X\xf3a"})]})})}function L(e){var t=(0,o.useState)({}),a=(0,n.Z)(t,2),i=a[0],s=a[1],l=(0,o.useState)(),u=(0,n.Z)(l,2),v=u[0],j=u[1],x=(0,o.useState)(),p=(0,n.Z)(x,2),g=p[0],K=p[1],m=e.setIsLoading;var L=(0,o.useCallback)((function(){!0===e.visible&&(m(!0),d.jz.RunApi(e.projectKey,e.folderKey,e.keyExec,(function(e){var t=e.data.data;try{s(JSON.parse(t.response))}catch(a){s({error:t.response})}j(t.statusCode)}),void 0,(function(){m(!1)})))}),[e.visible,e.projectKey,e.folderKey,e.keyExec,m]);return(0,o.useEffect)((function(){L()}),[L]),(0,k.jsx)(y.Z,{open:e.visible,onClose:function(){e.setVisible(!1)},size:"large",children:(0,k.jsxs)(c.xu,{children:[(0,k.jsx)(b.H.Input,{label:"Name",value:g,setValue:K}),(0,k.jsx)(r.O,{value:"Save response",onClick:function(){e.setIsLoading(!0);var t={name:g,response:i};d.jz.SaveResponse(e.projectKey,e.folderKey,e.keyExec,t,(function(e){h.Fn.PrintMsgSuccess(e)}),void 0,(function(){e.setIsLoading(!1)}))}}),(0,k.jsxs)("p",{children:["Status code: ",v]}),(0,k.jsx)("p",{children:"Response:"}),(0,k.jsx)(f.Z,{data:i})]})})}function I(e){var t=(0,o.useState)([]),a=(0,n.Z)(t,2),l=a[0],u=a[1],v=(0,o.useState)(!1),y=(0,n.Z)(v,2),j=y[0],x=y[1],p=(0,o.useState)(!1),h=(0,n.Z)(p,2),b=h[0],g=h[1],K=(0,o.useState)(void 0),I=(0,n.Z)(K,2),Z=I[0],D=I[1],V=(0,o.useState)(!1),S=(0,n.Z)(V,2),C=S[0],H=S[1],E=(0,o.useState)(void 0),T=(0,n.Z)(E,2),A=T[0],O=T[1],P=e.setIsLoading,G=(0,o.useCallback)((function(){void 0!==e.folderKey&&(P(!0),d.jz.GetList(e.projectKey,e.folderKey,(function(e){u(e.data.data.pagedData)}),void 0,(function(){P(!1)})))}),[e.projectKey,e.folderKey,P]);function F(e){return e.map((function(e,t){return(0,k.jsxs)("p",{children:[(0,k.jsxs)("strong",{children:[e.key,":"]})," ",e.value]},t)}))}return(0,o.useEffect)((function(){G()}),[G]),(0,k.jsxs)(c.xu,{children:[(0,k.jsx)(r.O,{onClick:function(){x(!0)},value:"Th\xeam API m\u1edbi"}),l.map((function(e,t){var a=e.body;(function(e){try{return JSON.stringify(e)&&!!e}catch(t){return!1}})(a)||(a={});var n="";switch(e.method){case 1:n="Get";break;case 2:n="Post";break;case 3:n="Put";break;case 4:n="Delete"}return(0,k.jsxs)("div",{children:[(0,k.jsxs)("h3",{style:{color:"blue",fontWeight:"bold"},onClick:function(){var t;t=e.key,D(t),g(!0)},children:[(0,k.jsx)("strong",{children:"Name: "}),e.name]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("strong",{children:n}),": ",e.url]}),(0,k.jsx)("p",{children:"Header: "}),(0,k.jsx)(c.xu,{children:F(e.headers)}),(0,k.jsx)("p",{children:"Body: "}),(0,k.jsx)(f.Z,{data:a}),(0,k.jsxs)(i.Z,{children:[(0,k.jsx)(s.Z,{span:12,children:(0,k.jsx)(r.O,{onClick:function(){var t;t=e.key,H(!0),O(t)},value:"Exec API"})}),(0,k.jsx)(s.Z,{span:12})]}),(0,k.jsx)("hr",{})]},t)})),(0,k.jsx)(m,{projectKey:e.projectKey,folderKey:e.folderKey,visible:j,setVisible:x,loadData:G,isLoading:e.isLoading,setIsLoading:e.setIsLoading}),(0,k.jsx)(m,{projectKey:e.projectKey,folderKey:e.folderKey,visible:b,setVisible:g,keyData:Z,setKeyData:D,loadData:G,isLoading:e.isLoading,setIsLoading:e.setIsLoading}),(0,k.jsx)(L,{projectKey:e.projectKey,folderKey:e.folderKey,visible:C,setVisible:H,keyExec:A,setKeyExec:O,loadData:G,isLoading:e.isLoading,setIsLoading:e.setIsLoading})]})}function Z(e){var t=(0,o.useState)([]),a=(0,n.Z)(t,2),i=a[0],s=a[1],l=(0,o.useState)(""),u=(0,n.Z)(l,2),c=u[0],v=u[1],f=e.setIsLoading,x=(0,o.useCallback)((function(){void 0!==e.keyEdit&&(f(!0),d.Zg.GetDetail(e.projectKey,e.keyEdit,(function(e){var t=e.data.data;v(t.name),s(t.headers)}),void 0,(function(){f(!1)})))}),[e.projectKey,e.keyEdit,f]);function g(){e.setVisible(!1),void 0!==e.setKeyEdit&&e.setKeyEdit(void 0)}return(0,o.useEffect)((function(){x()}),[x]),(0,k.jsx)(y.Z,{title:void 0!==e.keyEdit?"Ch\u1ec9nh s\u1eeda":"Th\xeam",open:e.visible,onClose:g,children:(0,k.jsxs)(j.Z,{layout:"vertical",onSubmitCapture:function(){var t=i.filter((function(e){return void 0!==e&&""!==e.key})),a={name:c,headers:t};e.setIsLoading(!0),void 0!==e.keyEdit?function(t){d.Zg.GetDetail(e.projectKey,e.keyEdit,(function(a){t=h.Fn.GetTimestamp(a,t),d.Zg.Edit(e.projectKey,e.keyEdit,t,(function(t){h.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(a):function(t){d.Zg.Add(e.projectKey,t,(function(t){h.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(a)},children:[(0,k.jsx)(b.H.Input,{label:"T\xean",value:c,setValue:v}),(0,k.jsx)(K,{data:i,setData:s}),(0,k.jsx)(r.O,{type:"success",isLoading:e.isLoading,htmlType:"submit",value:void 0!==e.keyEdit?"Ch\u1ec9nh s\u1eeda":"Th\xeam"}),(0,k.jsx)(r.O,{type:"danger",onClick:function(){p().fire("X\xe1c nh\u1eadn x\xf3a?","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a d\u1eef li\u1ec7u?","question").then((function(t){t.isConfirmed&&(e.setIsLoading(!0),d.Zg.GetDetail(e.projectKey,e.keyEdit,(function(t){d.Zg.Delete(e.projectKey,e.keyEdit,h.Fn.GetTimestamp(t),(function(t){h.Fn.PrintMsgSuccess(t),e.loadData(),g()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)})))}))},isLoading:e.isLoading,value:"X\xf3a"})]})})}function D(){var e=(0,l.UO)().key,t=(0,o.useState)([]),a=(0,n.Z)(t,2),f=a[0],y=a[1],j=(0,o.useState)(!1),x=(0,n.Z)(j,2),p=x[0],h=x[1],b=(0,o.useState)(!1),g=(0,n.Z)(b,2),K=g[0],m=g[1],L=(0,o.useState)(void 0),D=(0,n.Z)(L,2),V=D[0],S=D[1],C=(0,o.useState)(!1),H=(0,n.Z)(C,2),E=H[0],T=H[1],A=(0,o.useState)(void 0),O=(0,n.Z)(A,2),P=O[0],G=O[1],F=(0,o.useCallback)((function(){T(!0);var t=new u.LY(1,1e5,new v.C);d.Zg.GetList(e,t,(function(e){var t=e.data.data.pagedData.map((function(e,t){return{key:e.key,name:e.name}}));y(t)}),void 0,(function(){T(!1)}))}),[e]);return(0,o.useEffect)((function(){F()}),[F]),(0,k.jsxs)(c.ts,{title:"Document API",isLoading:E,children:[(0,k.jsxs)(i.Z,{gutter:6,children:[(0,k.jsx)(s.Z,{span:4,children:(0,k.jsxs)(c.xu,{children:[(0,k.jsx)(r.O,{type:"primary",onClick:function(){h(!0)},value:"Th\xeam th\u01b0 m\u1ee5c"}),(0,k.jsx)("ul",{children:f.map((function(e,t){return(0,k.jsx)("li",{className:"item-folder",children:(0,k.jsx)(r.O,{onDoubleClick:function(){var t;t=e.key,m(!0),S(t)},onFocus:function(){var t;t=e.key,G(t)},value:e.name})},t)}))})]})}),(0,k.jsx)(s.Z,{span:20,children:(0,k.jsx)(I,{folderKey:P,projectKey:e,isLoading:E,setIsLoading:T})})]}),(0,k.jsx)(Z,{visible:p,setVisible:h,projectKey:e,loadData:F,isLoading:E,setIsLoading:T}),(0,k.jsx)(Z,{visible:K,setVisible:m,keyEdit:V,setKeyEdit:S,projectKey:e,loadData:F,isLoading:E,setIsLoading:T})]})}}}]);
//# sourceMappingURL=506.bb9363be.chunk.js.map