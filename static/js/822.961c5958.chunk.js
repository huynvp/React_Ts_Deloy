"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[822],{8071:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(9439),o=n(2684),l=n(8885),i=n(1095),r=n(2791),u=n(3120),c=n(3778),s=n(7335),f=n(184);function d(e){var t=e.muityChoose;void 0===t&&(t=!1);var n=(0,r.useState)(!1),d=(0,a.Z)(n,2),v=d[0],p=d[1];return(0,r.useEffect)((function(){}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)(s.H.Input,{label:e.label,onClick:function(){p(!0)},readOnly:!0,value:e.resultName}),(0,f.jsx)(l.Z,{placement:"top",open:v,onClose:function(){p(!1)},children:(0,f.jsxs)("div",{children:[(0,f.jsx)(u.Z,{isLoading:e.isLoading}),(0,f.jsx)(o.O,{value:"X\xf3a t\xecm ki\u1ebfm",onClick:function(){e.setResultKey(""),e.setResultName("")}}),(0,f.jsx)(s.H.Input,{readOnly:!0,label:"K\u1ebft qu\u1ea3",value:e.resultName}),(0,f.jsx)(i.Z,{children:(0,f.jsx)(s.H.Search,{label:"T\xecm ki\u1ebfm",onSearch:function(t){e.onSearch(t)}})}),e.dataSearch.map((function(n,a){return(0,f.jsx)(o.O,{value:n.name,onClick:function(){return function(n){if(!0===t){var a=e.resultName.split(",");if(-1!==c.Fn.GetIndexInArrayStr(a,n.name))return void console.log("EXIST ARRAY");e.setResultKey("".concat(e.resultKey).concat(""!==e.resultKey?", ":"").concat(n.key)),e.setResultName("".concat(e.resultName).concat(""!==e.resultName?", ":"").concat(n.name))}else e.setResultKey(n.key),e.setResultName(n.name)}(n)}},n.key)}))]})})]})}},6822:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(9439),o=n(8787),l=n(2791),i=n(3778),r=n(2611),u=n(2496),c=n(9256),s=n(2684),f=n(698),d=n(3977),v=n(8885),p=n(1095),m=n(7335),y=n(8071),g=n(184);function x(e){var t=(0,l.useState)([]),n=(0,a.Z)(t,2),o=n[0],r=n[1],c=(0,l.useState)(null),f=(0,a.Z)(c,2),d=f[0],x=f[1],h=(0,l.useState)(null),C=(0,a.Z)(h,2),k=C[0],b=C[1],Z=(0,l.useState)(null),D=(0,a.Z)(Z,2),S=D[0],E=D[1],j=(0,l.useState)(null),O=(0,a.Z)(j,2),w=O[0],N=O[1],L=e.setIsLoading,I=(0,l.useCallback)((function(){void 0!==e.keyData&&(L(!0),u.hl.GetDetail(e.keyData,(function(e){var t=e.data.data;E(t.title),N(t.route),null!==t.parent&&(x(t.parent.key),b(t.parent.title+" - "+t.parent.route))}),void 0,(function(){L(!1)})))}),[e.keyData,L]);return(0,l.useEffect)((function(){I()}),[I]),(0,g.jsx)(v.Z,{open:e.visible,title:void 0===e.keyData?"Th\xeam m\u1edbi menu":"Ch\u1ec9nh s\u1eeda menu",onClose:function(){e.setVisible(!1),void 0!==e.keyData&&e.setKeyData(void 0),E(null),N(null),x(null),b(null)},children:(0,g.jsxs)(p.Z,{layout:"vertical",children:[(0,g.jsx)(m.H.Input,{label:"Title",value:S,setValue:E}),(0,g.jsx)(m.H.Input,{label:"Route",value:w,setValue:N}),(0,g.jsx)(y.Z,{label:"Parent",onSearch:function(t){e.setIsLoading(!0),u.hl.Query(t,(function(e){r(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:o,resultKey:d,resultName:k,setResultKey:x,setResultName:b,isLoading:e.isLoading}),(0,g.jsx)(s.O,{value:void 0===e.keyData?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda",type:"success",isLoading:e.isLoading,onClick:function(){var t={title:S,route:w,parentKey:void 0===d||""===d||null===d?null:d};e.setIsLoading(!0),void 0===e.keyData?function(t){u.hl.Add(t,(function(t){i.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(t):function(t){u.hl.GetDetail(e.keyData,(function(n){t=i.Fn.GetTimestamp(n,t),u.hl.Edit(e.keyData,t,(function(t){i.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)}})]})})}function h(){var e=[new r.Dw({title:"STT",dataIndex:"stt",key:"stt",disabled:!0}),new r.Dw({title:"Title",dataIndex:"title",key:"title"}),new r.Dw({title:"Route",dataIndex:"route",key:"route"}),new r.Dw({title:"Parent",dataIndex:"parent",key:"parentTitle"}),new r.Dw({title:"Action",key:"action",disabled:!0,render:function(e,t){return(0,g.jsxs)("div",{children:[(0,g.jsx)(s.O,{type:"link",value:"Ch\u1ec9nh s\u1eeda",onClick:function(){var e;e=t.key,K(!0),_(e)}}),(0,g.jsx)(o.Z,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){var e;e=t.key,O(!0),u.hl.GetDetail(e,(function(t){u.hl.Delete(e,i.Fn.GetTimestamp(t),(function(e){i.Fn.PrintMsgSuccess(e),z()}),(function(){O(!1)}))}),(function(){O(!1)}))},children:(0,g.jsx)(s.O,{type:"link",value:"X\xf3a"})})]})}})],t=(0,l.useState)(new f.D),n=(0,a.Z)(t,2),v=n[0],p=n[1],m=(0,l.useState)(new f.C),y=(0,a.Z)(m,2),h=y[0],C=y[1],k=(0,l.useState)([]),b=(0,a.Z)(k,2),Z=b[0],D=b[1],S=(0,l.useState)(!1),E=(0,a.Z)(S,2),j=E[0],O=E[1],w=(0,l.useState)(!1),N=(0,a.Z)(w,2),L=N[0],I=N[1],T=(0,l.useState)(!1),P=(0,a.Z)(T,2),R=P[0],K=P[1],V=(0,l.useState)(void 0),F=(0,a.Z)(V,2),G=F[0],_=F[1],z=(0,l.useCallback)((function(){O(!0),u.hl.GetList(v.pageNumber,v.pageSize,h,(function(e){p(new f.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,title:e.title,route:e.route,parent:null===e.parent?"*** Root ***":e.parent.title}}));D(t)}),void 0,(function(){O(!1)}))}),[v.pageNumber,v.pageSize,h]);function A(){I(!0)}return(0,l.useEffect)((function(){z()}),[z]),(0,g.jsxs)(c.ts,{title:"Qu\u1ea3n l\xfd menu",isLoading:j,buttonList:function(){return(0,g.jsx)(s.O,{type:"primary",value:"Th\xeam m\u1edbi",onClick:A})},children:[(0,g.jsx)(d.Z,{pageInfo:v,setPageInfo:p,column:e,dataSource:Z,loading:j,loadData:z,orderBy:h,setOrderBy:C}),(0,g.jsx)(x,{visible:L,setVisible:I,isLoading:j,setIsLoading:O,loadData:z}),(0,g.jsx)(x,{keyData:G,setKeyData:_,visible:R,setVisible:K,isLoading:j,setIsLoading:O,loadData:z})]})}},8787:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(7462),o=n(9439),l=n(187),i=n(1694),r=n.n(i),u=n(5179),c=n(1354),s=n(2791),f=n(1929),d=n(5945),v=function(e){return e?"function"===typeof e?e():e:null},p=n(9464),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},y=function(e){var t=e.title,n=e.content,a=e.prefixCls;return t||n?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:"".concat(a,"-title")},v(t)),s.createElement("div",{className:"".concat(a,"-inner-content")},v(n))):null};var g=s.forwardRef((function(e,t){var n=e.prefixCls,o=e.title,l=e.content,i=e._overlay,r=e.placement,u=void 0===r?"top":r,c=e.trigger,v=void 0===c?"hover":c,g=e.mouseEnterDelay,x=void 0===g?.1:g,h=e.mouseLeaveDelay,C=void 0===h?.1:h,k=e.overlayStyle,b=void 0===k?{}:k,Z=m(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),D=s.useContext(f.E_).getPrefixCls,S=D("popover",n),E=D();return s.createElement(d.Z,(0,a.Z)({placement:u,trigger:v,mouseEnterDelay:x,mouseLeaveDelay:C,overlayStyle:b},Z,{prefixCls:S,ref:t,overlay:i||s.createElement(y,{prefixCls:S,title:o,content:l}),transitionName:(0,p.mL)(E,"zoom-big",Z.transitionName)}))})),x=n(1113),h=n(7309),C=n(2571),k=n(8368);function b(e){return!(!e||!e.then)}var Z=function(e){var t=s.useRef(!1),n=s.useRef(),l=(0,k.Z)(!1),i=(0,o.Z)(l,2),r=i[0],u=i[1],c=e.close,f=function(){null===c||void 0===c||c.apply(void 0,arguments)};s.useEffect((function(){var t;if(e.autoFocus){var a=n.current;t=setTimeout((function(){return a.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var d=e.type,v=e.children,p=e.prefixCls,m=e.buttonProps;return s.createElement(h.Z,(0,a.Z)({},(0,C.n)(d),{onClick:function(n){var a=e.actionFn;if(!t.current)if(t.current=!0,a){var o;if(e.emitEvent){if(o=a(n),e.quitOnNullishReturnValue&&!b(o))return t.current=!1,void f(n)}else if(a.length)o=a(c),t.current=!1;else if(!(o=a()))return void f();!function(e){b(e)&&(u(!0),e.then((function(){u(!1,!0),f.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),u(!1,!0),t.current=!1})))}(o)}else f()},loading:r,prefixCls:p},m,{ref:n}),v)},D=n(3486),S=n(454),E=function(e){var t=e.prefixCls,n=e.okButtonProps,o=e.cancelButtonProps,l=e.title,i=e.cancelText,r=e.okText,u=e.okType,c=e.icon,d=e.showCancel,p=void 0===d||d,m=e.close,y=e.onConfirm,g=e.onCancel,x=s.useContext(f.E_).getPrefixCls;return s.createElement(D.Z,{componentName:"Popconfirm",defaultLocale:S.Z.Popconfirm},(function(e){return s.createElement("div",{className:"".concat(t,"-inner-content")},s.createElement("div",{className:"".concat(t,"-message")},c,s.createElement("div",{className:"".concat(t,"-message-title")},v(l))),s.createElement("div",{className:"".concat(t,"-buttons")},p&&s.createElement(h.Z,(0,a.Z)({onClick:g,size:"small"},o),null!==i&&void 0!==i?i:e.cancelText),s.createElement(Z,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,C.n)(u)),n),actionFn:y,close:m,prefixCls:x("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},j=void 0,O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},w=s.forwardRef((function(e,t){var n=s.useContext(f.E_).getPrefixCls,i=(0,u.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),d=(0,o.Z)(i,2),v=d[0],p=d[1],m=function(t,n){var a,o;p(t,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n),null===(o=e.onOpenChange)||void 0===o||o.call(e,t,n)},y=e.prefixCls,h=e.placement,C=void 0===h?"top":h,k=e.trigger,b=void 0===k?"click":k,Z=e.okType,D=void 0===Z?"primary":Z,S=e.icon,w=void 0===S?s.createElement(l.Z,null):S,N=e.children,L=e.overlayClassName,I=O(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),T=n("popover",y),P=n("popconfirm",y),R=r()(P,L);return s.createElement(g,(0,a.Z)({},I,{trigger:b,prefixCls:T,placement:C,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||m(t)},open:v,ref:t,overlayClassName:R,_overlay:s.createElement(E,(0,a.Z)({okType:D,icon:w},e,{prefixCls:T,close:function(e){m(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(j,t)},onCancel:function(t){var n;m(!1,t),null===(n=e.onCancel)||void 0===n||n.call(j,t)}}))}),(0,x.Tm)(N,{onKeyDown:function(e){var t,n;s.isValidElement(N)&&(null===(n=null===N||void 0===N?void 0:(t=N.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===c.Z.ESC&&v&&m(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=822.961c5958.chunk.js.map