"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[566],{8071:function(e,t,n){n.d(t,{Z:function(){return f}});var o=n(9439),a=n(2684),i=n(8885),r=n(1095),l=n(2791),s=n(3120),c=n(3778),u=n(7335),d=n(184);function f(e){var t=e.muityChoose;void 0===t&&(t=!1);var n=(0,l.useState)(!1),f=(0,o.Z)(n,2),v=f[0],m=f[1];return(0,l.useEffect)((function(){}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(u.H.Input,{label:e.label,onClick:function(){m(!0)},readOnly:!0,value:e.resultName}),(0,d.jsx)(i.Z,{placement:"top",open:v,onClose:function(){m(!1)},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(s.Z,{isLoading:e.isLoading}),(0,d.jsx)(a.O,{value:"X\xf3a t\xecm ki\u1ebfm",onClick:function(){e.setResultKey(""),e.setResultName("")}}),(0,d.jsx)(u.H.Input,{readOnly:!0,label:"K\u1ebft qu\u1ea3",value:e.resultName}),(0,d.jsx)(r.Z,{children:(0,d.jsx)(u.H.Search,{label:"T\xecm ki\u1ebfm",onSearch:function(t){e.onSearch(t)}})}),e.dataSearch.map((function(n,o){return(0,d.jsx)(a.O,{value:n.name,onClick:function(){return function(n){if(!0===t){var o=e.resultName.split(",");if(-1!==c.Fn.GetIndexInArrayStr(o,n.name))return void console.log("EXIST ARRAY");e.setResultKey("".concat(e.resultKey).concat(""!==e.resultKey?", ":"").concat(n.key)),e.setResultName("".concat(e.resultName).concat(""!==e.resultName?", ":"").concat(n.name))}else e.setResultKey(n.key),e.setResultName(n.name)}(n)}},n.key)}))]})})]})}},1566:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var o=n(9439),a=n(2791),i=n(7309),r=n(8787),l=n(2496),s=n(3778),c=n(2684),u=n(8885),d=n(1095),f=n(8071),v=n(184);function m(e){var t=(0,a.useState)(""),n=(0,o.Z)(t,2),i=n[0],r=n[1],m=(0,a.useState)(""),y=(0,o.Z)(m,2),p=y[0],g=y[1],k=(0,a.useState)(""),h=(0,o.Z)(k,2),x=h[0],C=h[1],S=(0,a.useState)(""),Z=(0,o.Z)(S,2),b=Z[0],D=Z[1],O=(0,a.useState)([]),E=(0,o.Z)(O,2),L=E[0],j=E[1],N=(0,a.useState)([]),w=(0,o.Z)(N,2),I=w[0],T=w[1],P=e.setIsLoading,R=(0,a.useCallback)((function(){P(!0),l.rG.GetDetailLinkStored(e.keyData,(function(e){var t=e.data.data;r(t.storedOrigin.name),g(t.storedOrigin.key),C(t.storedDest.name),D(t.storedDest.key)}),void 0,(function(){P(!1)}))}),[e.keyData,P]);return(0,a.useEffect)((function(){void 0!==e.keyData&&R()}),[R,e.keyData]),(0,v.jsx)("div",{children:(0,v.jsx)(u.Z,{title:void 0===e.keyData?"Th\xeam m\u1edbi li\xean k\u1ebft":"Ch\u1ec9nh s\u1eeda li\xean k\u1ebft",open:e.visible,onClose:function(){e.setVisible(!1),void 0!==e.keyData&&e.setKeyData(void 0)},children:(0,v.jsxs)(d.Z,{layout:"vertical",children:[(0,v.jsx)(f.Z,{label:"Stored ngu\u1ed3n",onSearch:function(t){e.setIsLoading(!0),l.rG.SearchName(t,(function(e){j(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:L,resultKey:p,resultName:i,setResultKey:g,setResultName:r,isLoading:e.isLoading}),(0,v.jsx)(f.Z,{label:"Stored \u0111\xedch",onSearch:function(t){e.setIsLoading(!0),l.rG.SearchName(t,(function(e){T(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:I,resultKey:b,resultName:x,setResultKey:D,setResultName:C,isLoading:e.isLoading}),(0,v.jsx)(c.O,{value:void 0===e.keyData?"Th\xeam":"Ch\u1ec9nh s\u1eeda",onClick:function(){var t={storedOriginKey:p,storedDestKey:b};e.setIsLoading(!0),void 0===e.keyData?function(t){l.rG.AddLinkStored(t,(function(t){s.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(t):function(t){l.rG.GetDetailLinkStored(e.keyData,(function(n){t=s.Fn.GetTimestamp(n,t),l.rG.EditLinkStored(e.keyData,t,(function(t){s.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)},type:"success"})]})})})}var y=n(2611),p=n(3977),g=n(698),k=n(9256);function h(){var e=[new y.Dw({title:"STT",key:"stt"}),new y.Dw({title:"Stored ngu\u1ed3n",key:"storedOrigin"}),new y.Dw({title:"Stored li\xean k\u1ebft",key:"storedDest"}),new y.Dw({title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.Z,{type:"link",onClick:function(){var e;e=t.key,z(e),K(!0)},children:"Ch\u1ec9nh s\u1eeda"}),(0,v.jsx)(r.Z,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){var e;e=t.key,j(!0),l.rG.GetDetailLinkStored(e,(function(t){l.rG.DeleteLinkStored(e,s.Fn.GetTimestamp(t),(function(e){s.Fn.PrintMsgSuccess(e),B()}),(function(){j(!1)}))}),(function(){j(!1)}))},children:(0,v.jsx)(i.Z,{type:"link",children:"X\xf3a"})})]})}})],t=(0,a.useState)(new g.C),n=(0,o.Z)(t,2),u=n[0],d=n[1],f=(0,a.useState)(new g.D),h=(0,o.Z)(f,2),x=h[0],C=h[1],S=(0,a.useState)([]),Z=(0,o.Z)(S,2),b=Z[0],D=Z[1],O=(0,a.useState)(!1),E=(0,o.Z)(O,2),L=E[0],j=E[1],N=(0,a.useState)(!1),w=(0,o.Z)(N,2),I=w[0],T=w[1],P=(0,a.useState)(!1),R=(0,o.Z)(P,2),G=R[0],K=R[1],F=(0,a.useState)(void 0),V=(0,o.Z)(F,2),_=V[0],z=V[1],B=(0,a.useCallback)((function(){j(!0);var e=new y.LY(x.pageNumber,x.pageSize,u);l.rG.GetLinkStored(void 0,e,(function(e){C(new g.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,storedOrigin:e.storedOrigin.name,storedDest:e.storedDest.name}}));D(t)}),void 0,(function(){j(!1)}))}),[x.pageNumber,x.pageSize,u]);function A(){T(!0)}return(0,a.useEffect)((function(){B()}),[B]),(0,v.jsxs)(k.ts,{title:"Li\xean k\u1ebft stored",buttonList:function(){return(0,v.jsx)(c.O,{type:"primary",value:"Th\xeam m\u1edbi",onClick:A})},children:[(0,v.jsx)(p.Z,{pageInfo:x,setPageInfo:C,orderBy:u,setOrderBy:d,column:e,dataSource:b,loading:L,loadData:B}),(0,v.jsx)(m,{visible:I,setVisible:T,isLoading:L,setIsLoading:j,loadData:B}),(0,v.jsx)(m,{keyData:_,setKeyData:z,visible:G,setVisible:K,isLoading:L,setIsLoading:j,loadData:B})]})}},8787:function(e,t,n){n.d(t,{Z:function(){return j}});var o=n(7462),a=n(9439),i=n(187),r=n(1694),l=n.n(r),s=n(5179),c=n(1354),u=n(2791),d=n(1929),f=n(5945),v=function(e){return e?"function"===typeof e?e():e:null},m=n(9464),y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},p=function(e){var t=e.title,n=e.content,o=e.prefixCls;return t||n?u.createElement(u.Fragment,null,t&&u.createElement("div",{className:"".concat(o,"-title")},v(t)),u.createElement("div",{className:"".concat(o,"-inner-content")},v(n))):null};var g=u.forwardRef((function(e,t){var n=e.prefixCls,a=e.title,i=e.content,r=e._overlay,l=e.placement,s=void 0===l?"top":l,c=e.trigger,v=void 0===c?"hover":c,g=e.mouseEnterDelay,k=void 0===g?.1:g,h=e.mouseLeaveDelay,x=void 0===h?.1:h,C=e.overlayStyle,S=void 0===C?{}:C,Z=y(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),b=u.useContext(d.E_).getPrefixCls,D=b("popover",n),O=b();return u.createElement(f.Z,(0,o.Z)({placement:s,trigger:v,mouseEnterDelay:k,mouseLeaveDelay:x,overlayStyle:S},Z,{prefixCls:D,ref:t,overlay:r||u.createElement(p,{prefixCls:D,title:a,content:i}),transitionName:(0,m.mL)(O,"zoom-big",Z.transitionName)}))})),k=n(1113),h=n(7309),x=n(2571),C=n(8368);function S(e){return!(!e||!e.then)}var Z=function(e){var t=u.useRef(!1),n=u.useRef(),i=(0,C.Z)(!1),r=(0,a.Z)(i,2),l=r[0],s=r[1],c=e.close,d=function(){null===c||void 0===c||c.apply(void 0,arguments)};u.useEffect((function(){var t;if(e.autoFocus){var o=n.current;t=setTimeout((function(){return o.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var f=e.type,v=e.children,m=e.prefixCls,y=e.buttonProps;return u.createElement(h.Z,(0,o.Z)({},(0,x.n)(f),{onClick:function(n){var o=e.actionFn;if(!t.current)if(t.current=!0,o){var a;if(e.emitEvent){if(a=o(n),e.quitOnNullishReturnValue&&!S(a))return t.current=!1,void d(n)}else if(o.length)a=o(c),t.current=!1;else if(!(a=o()))return void d();!function(e){S(e)&&(s(!0),e.then((function(){s(!1,!0),d.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),s(!1,!0),t.current=!1})))}(a)}else d()},loading:l,prefixCls:m},y,{ref:n}),v)},b=n(3486),D=n(454),O=function(e){var t=e.prefixCls,n=e.okButtonProps,a=e.cancelButtonProps,i=e.title,r=e.cancelText,l=e.okText,s=e.okType,c=e.icon,f=e.showCancel,m=void 0===f||f,y=e.close,p=e.onConfirm,g=e.onCancel,k=u.useContext(d.E_).getPrefixCls;return u.createElement(b.Z,{componentName:"Popconfirm",defaultLocale:D.Z.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},c,u.createElement("div",{className:"".concat(t,"-message-title")},v(i))),u.createElement("div",{className:"".concat(t,"-buttons")},m&&u.createElement(h.Z,(0,o.Z)({onClick:g,size:"small"},a),null!==r&&void 0!==r?r:e.cancelText),u.createElement(Z,{buttonProps:(0,o.Z)((0,o.Z)({size:"small"},(0,x.n)(s)),n),actionFn:p,close:y,prefixCls:k("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==l&&void 0!==l?l:e.okText)))}))},E=void 0,L=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},j=u.forwardRef((function(e,t){var n=u.useContext(d.E_).getPrefixCls,r=(0,s.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),f=(0,a.Z)(r,2),v=f[0],m=f[1],y=function(t,n){var o,a;m(t,!0),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t,n),null===(a=e.onOpenChange)||void 0===a||a.call(e,t,n)},p=e.prefixCls,h=e.placement,x=void 0===h?"top":h,C=e.trigger,S=void 0===C?"click":C,Z=e.okType,b=void 0===Z?"primary":Z,D=e.icon,j=void 0===D?u.createElement(i.Z,null):D,N=e.children,w=e.overlayClassName,I=L(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),T=n("popover",p),P=n("popconfirm",p),R=l()(P,w);return u.createElement(g,(0,o.Z)({},I,{trigger:S,prefixCls:T,placement:x,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||y(t)},open:v,ref:t,overlayClassName:R,_overlay:u.createElement(O,(0,o.Z)({okType:b,icon:j},e,{prefixCls:T,close:function(e){y(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(E,t)},onCancel:function(t){var n;y(!1,t),null===(n=e.onCancel)||void 0===n||n.call(E,t)}}))}),(0,k.Tm)(N,{onKeyDown:function(e){var t,n;u.isValidElement(N)&&(null===(n=null===N||void 0===N?void 0:(t=N.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===c.Z.ESC&&v&&y(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=566.fbb4d0c2.chunk.js.map