"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[658],{8071:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(9439),i=n(2684),s=n(8885),l=n(1095),u=n(2791),o=n(3120),c=n(3778),r=n(7335),d=n(184);function f(e){var t=e.muityChoose;void 0===t&&(t=!1);var n=(0,u.useState)(!1),f=(0,a.Z)(n,2),y=f[0],m=f[1];return(0,u.useEffect)((function(){}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(r.H.Input,{label:e.label,onClick:function(){m(!0)},readOnly:!0,value:e.resultName}),(0,d.jsx)(s.Z,{placement:"top",open:y,onClose:function(){m(!1)},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Z,{isLoading:e.isLoading}),(0,d.jsx)(i.O,{value:"X\xf3a t\xecm ki\u1ebfm",onClick:function(){e.setResultKey(""),e.setResultName("")}}),(0,d.jsx)(r.H.Input,{readOnly:!0,label:"K\u1ebft qu\u1ea3",value:e.resultName}),(0,d.jsx)(l.Z,{children:(0,d.jsx)(r.H.Search,{label:"T\xecm ki\u1ebfm",onSearch:function(t){e.onSearch(t)}})}),e.dataSearch.map((function(n,a){return(0,d.jsx)(i.O,{value:n.name,onClick:function(){return function(n){if(!0===t){var a=e.resultName.split(",");if(-1!==c.Fn.GetIndexInArrayStr(a,n.name))return void console.log("EXIST ARRAY");e.setResultKey("".concat(e.resultKey).concat(""!==e.resultKey?", ":"").concat(n.key)),e.setResultName("".concat(e.resultName).concat(""!==e.resultName?", ":"").concat(n.name))}else e.setResultKey(n.key),e.setResultName(n.name)}(n)}},n.key)}))]})})]})}},6822:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(9439),i=n(8787),s=n(2791),l=n(3778),u=n(2611),o=n(2496),c=n(2684),r=n(698),d=n(3977),f=n(4104),y=n(8885),m=n(1095),v=n(7335),k=n(3120),h=n(8071),p=n(184);function x(e){var t=(0,s.useState)([]),n=(0,a.Z)(t,2),i=n[0],u=n[1],r=(0,s.useState)(null),d=(0,a.Z)(r,2),f=d[0],x=d[1],g=(0,s.useState)(null),D=(0,a.Z)(g,2),S=D[0],j=D[1],b=(0,s.useState)(null),Z=(0,a.Z)(b,2),I=Z[0],C=Z[1],L=(0,s.useState)(null),w=(0,a.Z)(L,2),N=w[0],R=w[1],T=e.setIsLoading,K=(0,s.useCallback)((function(){void 0!==e.keyData&&(T(!0),o.hl.GetDetail(e.keyData,(function(e){var t=e.data.data;C(t.title),R(t.route),null!==t.parent&&(x(t.parent.key),j(t.parent.title+" - "+t.parent.route))}),void 0,(function(){T(!1)})))}),[e.keyData,T]);return(0,s.useEffect)((function(){K()}),[K]),(0,p.jsxs)(y.Z,{open:e.visible,title:void 0===e.keyData?"Th\xeam m\u1edbi menu":"Ch\u1ec9nh s\u1eeda menu",onClose:function(){e.setVisible(!1),void 0!==e.keyData&&e.setKeyData(void 0),C(null),R(null),x(null),j(null)},children:[(0,p.jsx)(k.Z,{isLoading:e.isLoading}),(0,p.jsxs)(m.Z,{layout:"vertical",children:[(0,p.jsx)(v.H.Input,{label:"Title",value:I,setValue:C}),(0,p.jsx)(v.H.Input,{label:"Route",value:N,setValue:R}),(0,p.jsx)(h.Z,{label:"Parent",onSearch:function(t){e.setIsLoading(!0),o.hl.Query(t,(function(e){u(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:i,resultKey:f,resultName:S,setResultKey:x,setResultName:j,isLoading:e.isLoading}),(0,p.jsx)(c.O,{value:void 0===e.keyData?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda",type:"success",onClick:function(){var t={title:I,route:N,parentKey:void 0===f||""===f||null===f?null:f};e.setIsLoading(!0),void 0===e.keyData?function(t){o.hl.Add(t,(function(t){l.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(t):function(t){o.hl.GetDetail(e.keyData,(function(n){t=l.Fn.GetTimestamp(n,t),o.hl.Edit(e.keyData,t,(function(t){l.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)}})]})]})}function g(){var e=[new u.Dw({title:"STT",dataIndex:"stt",key:"stt",disabled:!0}),new u.Dw({title:"Title",dataIndex:"title",key:"title"}),new u.Dw({title:"Route",dataIndex:"route",key:"route"}),new u.Dw({title:"Parent",dataIndex:"parent",key:"parentTitle"}),new u.Dw({title:"Action",key:"action",disabled:!0,render:function(e,t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(c.O,{type:"link",value:"Ch\u1ec9nh s\u1eeda",onClick:function(){var e;e=t.key,F(!0),H(e)}}),(0,p.jsx)(i.Z,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){var e;e=t.key,L(!0),o.hl.GetDetail(e,(function(t){o.hl.Delete(e,l.Fn.GetTimestamp(t),(function(e){l.Fn.PrintMsgSuccess(e),V()}),(function(){L(!1)}))}),(function(){L(!1)}))},children:(0,p.jsx)(c.O,{type:"link",value:"X\xf3a"})})]})}})],t=(0,s.useState)(new r.D),n=(0,a.Z)(t,2),y=n[0],m=n[1],v=(0,s.useState)(new r.C),k=(0,a.Z)(v,2),h=k[0],g=k[1],D=(0,s.useState)([]),S=(0,a.Z)(D,2),j=S[0],b=S[1],Z=(0,s.useState)(!1),I=(0,a.Z)(Z,2),C=I[0],L=I[1],w=(0,s.useState)(!1),N=(0,a.Z)(w,2),R=N[0],T=N[1],K=(0,s.useState)(!1),O=(0,a.Z)(K,2),G=O[0],F=O[1],P=(0,s.useState)(void 0),A=(0,a.Z)(P,2),E=A[0],H=A[1],V=(0,s.useCallback)((function(){L(!0),o.hl.GetList(y.pageNumber,y.pageSize,h,(function(e){m(new r.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,title:e.title,route:e.route,parent:null===e.parent?"*** Root ***":e.parent.title}}));b(t)}),void 0,(function(){L(!1)}))}),[y.pageNumber,y.pageSize,h]);return(0,s.useEffect)((function(){V()}),[V]),(0,p.jsxs)("div",{className:"my-box",children:[(0,p.jsx)(f.Z,{value:"Qu\u1ea3n l\xfd menu"}),(0,p.jsx)(c.O,{type:"primary",value:"Th\xeam m\u1edbi",onClick:function(){T(!0)}}),(0,p.jsx)(d.Z,{pageInfo:y,setPageInfo:m,column:e,dataSource:j,loading:C,loadData:V,orderBy:h,setOrderBy:g}),(0,p.jsx)(x,{visible:R,setVisible:T,isLoading:C,setIsLoading:L,loadData:V}),(0,p.jsx)(x,{keyData:E,setKeyData:H,visible:G,setVisible:F,isLoading:C,setIsLoading:L,loadData:V})]})}}}]);
//# sourceMappingURL=658.e8ad2bb3.chunk.js.map