"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[936],{7774:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var s=t(4165),i=t(5861),a=t(9439),u=t(2409),c=t(2791),o=t(7689),l=t(1830),r=t.n(l),d=t(3778),f=t(4492),p=t(7335),h=t(9256),y=t(2684),j=t(6974),x=(t(7121),t(6106)),v=t(914),S=t(8885),m=t(2820),g=t(184);function b(e){var n=(0,c.useState)([]),t=(0,a.Z)(n,2),s=t[0],i=t[1],u=e.projectKey,o=e.folderKey,l=e.apiKey,p=e.visible,b=e.setVisible,Z=e.isLoading,k=e.setIsLoading,C=(0,c.useCallback)((function(){p&&f.Tz.Getlist(u,o,l).then((function(e){e.isSuccess&&i(e.data.pagedData)}))}),[u,o,l,p]);function L(e){r().fire({title:"X\xe1c nh\u1eadn x\xf3a",text:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a response n\xe0y kh\xf4ng?"}).then((function(n){n.isConfirmed&&function(e){k(!0),f.Tz.GetDetail(u,o,l,e).then((function(n){n.isSuccess?f.Tz.Delete(u,o,l,e,d.Fn.GetTimestampV2(n)).then((function(e){e.isSuccess&&(d.Fn.PrintMsgSuccessV2(e),C())})).finally((function(){return k(!1)})):k(!1)}))}(e)}))}return(0,c.useEffect)((function(){C()}),[C]),(0,g.jsx)(S.Z,{size:"large",title:"Response",open:p,onClose:function(){b(!1)},children:s.map((function(e,n){return(0,g.jsxs)(h.xu,{children:[(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(v.Z,{span:12,children:(0,g.jsxs)(m.xv,{children:[(0,g.jsx)(m.R1,{value:"Name: "}),e.name]})}),(0,g.jsx)(v.Z,{span:12,style:{textAlign:"right"},children:(0,g.jsx)(y.O,{type:"danger",value:"X\xf3a",isLoading:Z,onClick:function(){L(e.key)}})})]}),(0,g.jsx)(j.Z,{data:e.responses})]},n)}))})}function Z(e){var n=e.projectKey,t=e.folderKey,s=e.apiKey,i=(0,c.useState)(""),u=(0,a.Z)(i,2),o=u[0],l=u[1],p=(0,c.useState)({}),x=(0,a.Z)(p,2),v=x[0],S=x[1],m=(0,c.useState)(!1),Z=(0,a.Z)(m,2),k=Z[0],C=Z[1],L=e.isLoading,V=e.setIsLoading;return(0,g.jsxs)(h.xu,{children:[(0,g.jsx)(y.O,{isLoading:L,value:"Xem response \u0111\xe3 l\u01b0u",type:"primary",onClick:function(){C(!0)}}),(0,g.jsx)(y.O,{isLoading:L,value:"Ch\u1ea1y APi",type:"warning",onClick:function(){V(!0),f.jz.ExecApi(n,t,s).then((function(e){e.isSuccess&&(console.log(e.data),l(e.data.result.statusCode),S(e.data.result.data))})).finally((function(){return V(!1)}))}}),(0,g.jsx)(y.O,{isLoading:L,disabled:""===o,value:"L\u01b0u response",onClick:function(){r().fire({title:"Nh\u1eadp t\xean response",input:"text",preConfirm:function(e){!function(e){var i={name:e,responses:v};f.Tz.SaveResponse(n,t,s,i).then((function(e){e.isSuccess&&d.Fn.PrintMsgSuccessV2(e)}))}(e)}})},type:"success"}),(0,g.jsxs)("p",{children:["Status code: ",o]}),(0,g.jsx)("pre",{children:(0,g.jsx)(j.Z,{data:v})}),(0,g.jsx)(b,{visible:k,setVisible:C,projectKey:n,folderKey:t,apiKey:s,isLoading:L,setIsLoading:V})]})}var k=t(8658);function C(e){var n=(0,o.UO)().key,t=(0,o.UO)().projectKey,l=(0,o.UO)().folderKey,j=(0,o.s0)(),x=(0,c.useState)([]),v=(0,a.Z)(x,2),S=v[0],m=v[1],b=(0,c.useState)(""),C=(0,a.Z)(b,2),L=C[0],V=C[1],K=(0,c.useState)(1),T=(0,a.Z)(K,2),z=T[0],O=T[1],P=(0,c.useState)(""),D=(0,a.Z)(P,2),G=D[0],A=D[1],F=(0,c.useState)(""),I=(0,a.Z)(F,2),w=I[0],M=I[1],R=(0,c.useState)(),H=(0,a.Z)(R,2),N=H[0],X=H[1],E=(0,c.useState)(!1),U=(0,a.Z)(E,2),B=U[0],J=U[1],q=(0,c.useState)(),Q=(0,a.Z)(q,2),W=Q[0],Y=Q[1];var $=(0,c.useCallback)((0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==n&&(J(!0),f.jz.GetDetail(t,l,n).then((function(e){if(e.isSuccess){var n=e.data;m(n.headers),V(n.name),O(n.method),A(n.url),X(n.varReplace),M(null===n.body?"":JSON.stringify(n.body)),Y(n.body)}})).finally((function(){return J(!1)})));case 1:case"end":return e.stop()}}),e)}))),[t,l,n,J]);function _(e){(function(e){try{return JSON.parse(e)&&!!e}catch(n){return!1}})(e)&&Y(JSON.parse(e)),M(e)}function ee(){var e=S;return e=e.filter((function(e){return void 0!==e&&""!==e.key}))}return(0,c.useEffect)((function(){$()}),[$]),(0,g.jsxs)(h.ts,{title:void 0!==n?"Chi ti\u1ebft API":"Th\xeam m\u1edbi API",children:[(0,g.jsxs)(u.Z,{layout:"vertical",onSubmitCapture:function(){J(!0);var e={name:L,headers:ee(),url:G,method:z,varReplace:N,body:W};void 0===n?function(e){f.jz.Add(t,l,e).then((function(e){e.isSuccess&&(d.Fn.PrintMsgSuccessV2(e),j("/tools/tasks/projects/".concat(t,"/codeManage/document/").concat(l,"/apis/").concat(e.data.key)))})).finally((function(){return J(!1)}))}(e):function(e){f.jz.GetDetail(t,l,n).then((function(s){s.isSuccess?(e=d.Fn.GetTimestampV2(s,e),f.jz.Edit(t,l,n,e).then((function(e){e.isSuccess&&d.Fn.PrintMsgSuccessV2(e)})).finally((function(){return J(!1)}))):J(!1)}))}(e)},children:[(0,g.jsx)(p.H.Input,{label:"T\xean",value:L,setValue:V}),(0,g.jsx)(p.H.Select,{label:"Ph\u01b0\u01a1ng th\u1ee9c",options:[{value:1,label:"Get"},{value:2,label:"Post"},{value:3,label:"Put"},{value:4,label:"Delete"}],value:z,setValue:O}),(0,g.jsx)(p.H.Input,{label:"URL",value:G,setValue:A}),(0,g.jsx)(k.Z,{data:S,setData:m}),(0,g.jsx)(p.H.TextArea,{label:"Body",value:w,setValue:function(e){_(e)}}),(0,g.jsx)(p.H.TextArea,{label:"Script l\u01b0u bi\u1ebfn ",value:N,setValue:X}),(0,g.jsx)(y.O,{htmlType:"submit",isLoading:B,type:"success",value:void 0===n?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda"}),(0,g.jsx)(y.O,{type:"danger",isLoading:B,onClick:function(){r().fire("X\xe1c nh\u1eadn x\xf3a","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a d\u1eef li\u1ec7u kh\xf4ng?","question").then((function(e){e.isConfirmed&&(J(!0),f.jz.GetDetail(t,l,n).then((function(e){e.isSuccess&&f.jz.Delete(t,l,n,d.Fn.GetTimestampV2(e)).then((function(e){e.isSuccess&&(d.Fn.PrintMsgSuccessV2(e),j("/tools/tasks/projects/".concat(t,"/codeManage/document?folder=").concat(l)))}))})))}))},disabled:void 0===n,value:"X\xf3a"})]}),(0,g.jsx)(Z,{isLoading:B,setIsLoading:J,projectKey:t,folderKey:l,apiKey:n})]})}},6974:function(e,n,t){t.d(n,{Z:function(){return u}});var s=t(1939),i=t.n(s),a=t(184);function u(e){return(0,a.jsx)("div",{children:(0,a.jsx)(i(),{name:null,enableClipboard:!1,displayDataTypes:!1,src:e.data,theme:"ashes"})})}}}]);
//# sourceMappingURL=936.f1c7ea1f.chunk.js.map