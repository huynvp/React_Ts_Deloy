{"version":3,"file":"static/js/936.f1c7ea1f.chunk.js","mappings":"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","sources":["components/tool/task/workflow/document/ViewResponseComponent.tsx","components/tool/task/workflow/document/ExecuteApiComponent.tsx","components/tool/task/workflow/document/ModifyApiDocComponent.tsx","components/tool/test/JsonViewerComponent.tsx"],"sourcesContent":["import { Col, Drawer, Row } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocResponseService } from \"../../../../../services/taskService\";\r\nimport { Box } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport { Text, TextStrong } from \"../../../../core/Text\";\r\nimport JsonViewerComponent from \"../../../test/JsonViewerComponent\";\r\n\r\nexport default function ViewResponseComponent(props: any) {\r\n    const [data, setData] = useState([]);\r\n\r\n    const { projectKey, folderKey, apiKey, visible, setVisible, isLoading, setIsLoading } = props;\r\n\r\n    const loadDataDetail = useCallback(() => {\r\n        if (visible) {\r\n            ApiDocResponseService.Getlist(projectKey, folderKey, apiKey)\r\n                .then((rs: any) => {\r\n                    if (rs.isSuccess) {\r\n                        setData(rs.data.pagedData);\r\n                    }\r\n                })\r\n        }\r\n    }, [projectKey, folderKey, apiKey, visible]);\r\n\r\n    useEffect(() => {\r\n        loadDataDetail();\r\n    }, [loadDataDetail])\r\n\r\n    function handleOnClose() {\r\n        setVisible(false);\r\n    }\r\n\r\n    function handleClickDelete(key: string | undefined) {\r\n        Swal.fire({\r\n            title: \"Xác nhận xóa\",\r\n            text: \"Bạn có muốn xóa response này không?\",\r\n        })\r\n            .then((rs) => {\r\n                if (rs.isConfirmed) {\r\n                    DoDelete(key);\r\n                }\r\n            })\r\n    }\r\n\r\n    function DoDelete(key: string | undefined) {\r\n        setIsLoading(true);\r\n        ApiDocResponseService.GetDetail(projectKey, folderKey, apiKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    ApiDocResponseService.Delete(projectKey, folderKey, apiKey, key, Fn.GetTimestampV2(rs))\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                                loadDataDetail();\r\n                            }\r\n                        }).finally(() => setIsLoading(false));\r\n                } else setIsLoading(false);\r\n            });\r\n    }\r\n\r\n    function RenderData() {\r\n        return data.map((data: any, index: number) =>\r\n            <Box key={index}>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Text>\r\n                            <TextStrong value=\"Name: \" />{data.name}\r\n                        </Text>\r\n                    </Col>\r\n                    <Col span={12} style={{ textAlign: \"right\" }}>\r\n                        <MyButton\r\n                            type=\"danger\"\r\n                            value=\"Xóa\"\r\n                            isLoading={isLoading}\r\n                            onClick={() => { handleClickDelete(data.key) }} />\r\n                    </Col>\r\n                </Row>\r\n                <JsonViewerComponent data={data.responses} />\r\n            </Box>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Drawer\r\n            size=\"large\"\r\n            title=\"Response\"\r\n            open={visible}\r\n            onClose={handleOnClose}>\r\n            {RenderData()}\r\n        </Drawer>\r\n    )\r\n}","import { useState } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocResponseService, ApiDocService } from \"../../../../../services/taskService\";\r\nimport { Box } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport JsonViewerComponent from \"../../../test/JsonViewerComponent\";\r\nimport \"../../task.css\";\r\nimport ViewResponseComponent from \"./ViewResponseComponent\";\r\n\r\nexport default function ExecuteApiComponent(props: any) {\r\n    const { projectKey, folderKey, apiKey } = props;\r\n    const [statusCode, setStatusCode] = useState('');\r\n    const [response, setResponse] = useState({});\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const { isLoading, setIsLoading } = props;\r\n\r\n    function OnClickExec() {\r\n        setIsLoading(true);\r\n        ApiDocService.ExecApi(projectKey, folderKey, apiKey)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    console.log(rs.data);\r\n                    setStatusCode(rs.data.result.statusCode);\r\n                    setResponse(rs.data.result.data);\r\n                }\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }\r\n\r\n    function handleClickSaveResponse() {\r\n        Swal.fire({\r\n            title: \"Nhập tên response\",\r\n            input: \"text\",\r\n            preConfirm: (name) => {\r\n                saveResponse(name);\r\n            }\r\n        })\r\n    }\r\n\r\n    function saveResponse(name: string) {\r\n        let body = {\r\n            name: name,\r\n            responses: response\r\n        }\r\n        ApiDocResponseService.SaveResponse(projectKey, folderKey, apiKey, body)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    Fn.PrintMsgSuccessV2(rs);\r\n                }\r\n            })\r\n    }\r\n\r\n    function handleClickViewResponse() {\r\n        setVisible(true);\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                value=\"Xem response đã lưu\"\r\n                type=\"primary\"\r\n                onClick={handleClickViewResponse}\r\n            />\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                value=\"Chạy APi\"\r\n                type=\"warning\"\r\n                onClick={OnClickExec}\r\n            />\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                disabled={statusCode === ''}\r\n                value=\"Lưu response\"\r\n                onClick={handleClickSaveResponse}\r\n                type=\"success\" />\r\n            <p>Status code: {statusCode}</p>\r\n            <pre>\r\n                <JsonViewerComponent data={response} />\r\n            </pre>\r\n\r\n            <ViewResponseComponent\r\n                visible={visible}\r\n                setVisible={setVisible}\r\n                projectKey={projectKey}\r\n                folderKey={folderKey}\r\n                apiKey={apiKey}\r\n                isLoading={isLoading}\r\n                setIsLoading={setIsLoading} />\r\n        </Box>\r\n    );\r\n}","import { Form } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocService } from \"../../../../../services/taskService\";\r\nimport { MyFormItem } from \"../../../../core/Input\";\r\nimport { MyBox } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport ExecuteApiComponent from \"./ExecuteApiComponent\";\r\nimport HeaderComponent from \"./HeaderComponent\";\r\n\r\nexport default function ModifyApiDocComponent(props: any) {\r\n    const key = useParams().key;\r\n    const projectKey = useParams().projectKey;\r\n    const folderKey = useParams().folderKey;\r\n    const navigate = useNavigate();\r\n    const [headers, setHeaders] = useState([]);\r\n    const [name, setName] = useState('');\r\n    const [method, setMethod] = useState(1);\r\n    const [url, setUrl] = useState('');\r\n    const [body, setBody] = useState<string>('');\r\n    const [varReplace, setVarReplace] = useState();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const options = [\r\n        {\r\n            value: 1,\r\n            label: \"Get\"\r\n        },\r\n        {\r\n            value: 2,\r\n            label: \"Post\"\r\n        },\r\n        {\r\n            value: 3,\r\n            label: \"Put\"\r\n        },\r\n        {\r\n            value: 4,\r\n            label: \"Delete\"\r\n        }\r\n    ]\r\n\r\n    const [bodyObj, setBodyObj] = useState();\r\n\r\n    function isJSON(str: string) {\r\n        try {\r\n            return (JSON.parse(str) && !!str);\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const loadData = useCallback(async () => {\r\n        if (key !== undefined) {\r\n            setIsLoading(true);\r\n\r\n            ApiDocService.GetDetail(projectKey, folderKey, key)\r\n                .then((rs: any) => {\r\n                    if (rs.isSuccess) {\r\n                        let row = rs.data;\r\n                        setHeaders(row.headers);\r\n                        setName(row.name);\r\n                        setMethod(row.method);\r\n                        setUrl(row.url);\r\n                        setVarReplace(row.varReplace);\r\n                        setBody(row.body === null ? \"\" : JSON.stringify(row.body));\r\n                        setBodyObj(row.body);\r\n                    }\r\n                })\r\n                .finally(() => setIsLoading(false));\r\n        }\r\n    }, [projectKey, folderKey, key, setIsLoading])\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, [loadData])\r\n\r\n    function handleOnChangeBody(value: string) {\r\n        if (isJSON(value)) {\r\n            setBodyObj(JSON.parse(value));\r\n        }\r\n        setBody(value);\r\n    }\r\n\r\n    function filterArray() {\r\n        var t = headers;\r\n\r\n        t = t.filter((obj: any) => {\r\n            return (obj !== undefined && obj.key !== '');\r\n        })\r\n\r\n        return t;\r\n    }\r\n\r\n    function handleSubmitForm() {\r\n        setIsLoading(true);\r\n        let bodyReq = {\r\n            name: name,\r\n            headers: filterArray(),\r\n            url: url,\r\n            method: method,\r\n            varReplace: varReplace,\r\n            body: bodyObj\r\n        };\r\n\r\n        if (key === undefined) {\r\n            add(bodyReq);\r\n        } else {\r\n            edit(bodyReq);\r\n        }\r\n    }\r\n\r\n    function add(bodyReq: any) {\r\n        ApiDocService.Add(projectKey, folderKey, bodyReq)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    Fn.PrintMsgSuccessV2(rs);\r\n                    navigate(`/tools/tasks/projects/${projectKey}/codeManage/document/${folderKey}/apis/${rs.data.key}`);\r\n                }\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }\r\n\r\n    function edit(bodyReq: any) {\r\n        ApiDocService.GetDetail(projectKey, folderKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    bodyReq = Fn.GetTimestampV2(rs, bodyReq);\r\n                    ApiDocService.Edit(projectKey, folderKey, key, bodyReq)\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                            }\r\n                        })\r\n                        .finally(() => setIsLoading(false));\r\n                } else setIsLoading(false);\r\n            })\r\n    }\r\n\r\n    function handleDelete() {\r\n        Swal.fire(\"Xác nhận xóa\", \"Bạn có muốn xóa dữ liệu không?\", \"question\")\r\n            .then((result) => {\r\n                if (result.isConfirmed) {\r\n                    doDelete();\r\n                }\r\n            });\r\n    }\r\n\r\n    function doDelete() {\r\n        setIsLoading(true);\r\n        ApiDocService.GetDetail(projectKey, folderKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    ApiDocService.Delete(projectKey, folderKey, key, Fn.GetTimestampV2(rs))\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                                navigate(`/tools/tasks/projects/${projectKey}/codeManage/document?folder=${folderKey}`);\r\n                            }\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <MyBox\r\n            title={key !== undefined ? \"Chi tiết API\" : \"Thêm mới API\"}>\r\n            <Form\r\n                layout=\"vertical\"\r\n                onSubmitCapture={handleSubmitForm}>\r\n                <MyFormItem.Input\r\n                    label=\"Tên\"\r\n                    value={name}\r\n                    setValue={setName} />\r\n\r\n                <MyFormItem.Select\r\n                    label=\"Phương thức\"\r\n                    options={options}\r\n                    value={method}\r\n                    setValue={setMethod} />\r\n\r\n                <MyFormItem.Input\r\n                    label=\"URL\"\r\n                    value={url}\r\n                    setValue={setUrl} />\r\n\r\n                <HeaderComponent\r\n                    data={headers}\r\n                    setData={setHeaders} />\r\n\r\n                <MyFormItem.TextArea\r\n                    label=\"Body\"\r\n                    value={body}\r\n                    setValue={(value: string) => {\r\n                        handleOnChangeBody(value);\r\n                    }} />\r\n\r\n                <MyFormItem.TextArea\r\n                    label=\"Script lưu biến \"\r\n                    value={varReplace}\r\n                    setValue={setVarReplace} />\r\n\r\n                <MyButton\r\n                    htmlType=\"submit\"\r\n                    isLoading={isLoading}\r\n                    type=\"success\"\r\n                    value={key === undefined ? \"Thêm mới\" : \"Chỉnh sửa\"} />\r\n\r\n                <MyButton\r\n                    type=\"danger\"\r\n                    isLoading={isLoading}\r\n                    onClick={handleDelete}\r\n                    disabled={key === undefined}\r\n                    value=\"Xóa\" />\r\n            </Form>\r\n\r\n            <ExecuteApiComponent\r\n                isLoading={isLoading}\r\n                setIsLoading={setIsLoading}\r\n                projectKey={projectKey}\r\n                folderKey={folderKey}\r\n                apiKey={key} />\r\n        </MyBox>\r\n    )\r\n}","import ReactJson from \"react-json-view\";\r\n\r\nexport default function JsonViewerComponent(props: any) {\r\n\r\n    return (\r\n        <div>\r\n            <ReactJson\r\n                name={null}\r\n                enableClipboard={false}\r\n                displayDataTypes={false}\r\n                src={props.data}\r\n                theme=\"ashes\" />\r\n        </div>\r\n    )\r\n}"],"names":["ViewResponseComponent","props","useState","data","setData","projectKey","folderKey","apiKey","visible","setVisible","isLoading","setIsLoading","loadDataDetail","useCallback","ApiDocResponseService","then","rs","isSuccess","pagedData","handleClickDelete","key","Swal","title","text","isConfirmed","Fn","finally","DoDelete","useEffect","size","open","onClose","map","index","span","Text","value","name","style","textAlign","MyButton","type","onClick","JsonViewerComponent","responses","ExecuteApiComponent","statusCode","setStatusCode","response","setResponse","ApiDocService","console","log","result","disabled","input","preConfirm","body","saveResponse","ModifyApiDocComponent","useParams","navigate","useNavigate","headers","setHeaders","setName","method","setMethod","url","setUrl","setBody","varReplace","setVarReplace","bodyObj","setBodyObj","loadData","undefined","row","JSON","stringify","handleOnChangeBody","str","parse","e","isJSON","filterArray","t","filter","obj","MyBox","layout","onSubmitCapture","bodyReq","add","edit","label","setValue","options","HeaderComponent","htmlType","enableClipboard","displayDataTypes","src","theme"],"sourceRoot":""}