"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[376],{8376:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var a=n(9439),i=n(8885),s=n(1095),c=n(6106),o=n(914),u=n(2426),l=n.n(u),r=n(2791),y=n(1087),d=n(1830),f=n.n(d),D=n(3778),h=n(4492),p=n(7335),g=n(2684),j=n(7602),k=n(184);function m(t){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),u=n[0],d=n[1],m=(0,r.useState)(l()()),v=(0,a.Z)(m,2),x=v[0],b=v[1],S=(0,r.useState)(l()()),K=(0,a.Z)(S,2),C=K[0],T=K[1],V=(0,r.useState)(),Z=(0,a.Z)(V,2),M=Z[0],F=Z[1],L=t.setIsLoading,U=(0,r.useCallback)((function(){void 0!==t.keyData&&(L(!0),h.gU.GetDetail(t.projectKey,t.keyData).then((function(t){if(t.isSuccess){var e=t.data;d(e.name),b(l()(e.dateFrom)),T(l()(e.dateTo)),F(e.status.id)}})).finally((function(){return L(!1)})))}),[t.projectKey,t.keyData,L]);function w(){t.setVisible(!1),d(""),b(l()()),T(l()()),void 0!==t.setKeyData&&t.setKeyData(void 0)}return(0,r.useEffect)((function(){U()}),[U]),(0,k.jsx)(i.Z,{title:"Chi ti\u1ebft",open:t.visible,onClose:w,children:(0,k.jsxs)(s.Z,{layout:"vertical",onSubmitCapture:function(){var e={name:u,dateFrom:x.format("yyyy-MM-DD"),dateTo:C.format("yyyy-MM-DD"),status:M};L(!0),void 0!==t.keyData?function(e){h.gU.GetDetail(t.projectKey,t.keyData).then((function(n){n.isSuccess?(e=D.Fn.GetTimestampV2(n,e),h.gU.Edit(t.projectKey,t.keyData,e).then((function(e){e.isSuccess&&(D.Fn.PrintMsgSuccessV2(e),w(),t.loadData())})).finally((function(){return L(!1)}))):L(!1)}))}(e):function(e){h.gU.Add(t.projectKey,e).then((function(e){e.isSuccess&&(D.Fn.PrintMsgSuccessV2(e),w(),t.loadData())})).finally((function(){return L(!1)}))}(e)},children:[(0,k.jsx)(p.H.Input,{label:"T\xean giai \u0111o\u1ea1n",value:u,setValue:d}),(0,k.jsx)(p.H.DatePicker,{label:"Ng\xe0y b\u1eaft \u0111\u1ea7u",value:x,setValue:b}),(0,k.jsx)(p.H.DatePicker,{label:"Ng\xe0y k\u1ebft th\xfac",value:C,setValue:T}),(0,k.jsx)(j.M,{label:"Tr\u1ea1ng th\xe1i",projectKey:t.projectKey,type:2,value:M,setValue:F}),(0,k.jsxs)(c.Z,{gutter:24,children:[(0,k.jsx)(o.Z,{span:"12",children:(0,k.jsx)(g.O,{isLoading:t.isLoading,htmlType:"submit",type:"success",value:void 0!==t.keyData?"Ch\u1ec9nh s\u1eeda":"Th\xeam m\u1edbi"})}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(g.O,{isLoading:t.isLoading,type:"danger",disabled:void 0===t.keyData,onClick:function(){f().fire({title:"X\xe1c nh\u1eadn x\xf3a",text:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a sprint n\xe0y kh\xf4ng?",showDenyButton:!0,confirmButtonText:"C\xf3",denyButtonText:"Kh\xf4ng"}).then((function(e){e.isConfirmed&&(t.setIsLoading(!0),h.gU.GetDetail(t.projectKey,t.keyData).then((function(e){e.isSuccess?h.gU.Delete(t.projectKey,t.keyData,D.Fn.GetTimestampV2(e)).then((function(e){e.isSuccess&&(D.Fn.PrintMsgSuccessV2(e),w(),t.loadData())})).finally((function(){return L(!1)})):L(!1)})))}))},value:"X\xf3a sprint"})})]}),(0,k.jsx)(y.rU,{to:"/tools/tasks/projects/".concat(t.projectKey,"/sprint/").concat(t.keyData,"/toDoList"),children:"Qu\u1ea3n l\xfd vi\u1ec7c c\u1ea7n l\xe0m"})]})})}}}]);
//# sourceMappingURL=376.f09b4794.chunk.js.map