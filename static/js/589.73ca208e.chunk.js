"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[589],{8589:function(t,e,n){n.r(e),n.d(e,{default:function(){return M}});var a=n(9439),o=n(8062),c=n(2409),s=n(2791),r=n(7689),u=n(1830),i=n.n(u),l=n(3778),p=n(5349),v=n(6449),d=n(9256),f=n(2684),k=n(3433),g=n(6106),y=n(914),S=n(1087),j=n(184);function m(t){var e=t.projectKey,n=t.keyEdit,o=(0,s.useState)([]),c=(0,a.Z)(o,2),r=c[0],u=c[1],i=(0,s.useState)(),m=(0,a.Z)(i,2),M=m[0],R=m[1],q=(0,s.useCallback)((function(){p.iL.GetListDetail(e,n).then((function(t){t.isSuccess&&u(t.data)}))}),[e,n]);function G(t,e){r[e].check=t,u((0,k.Z)(r))}return(0,s.useEffect)((function(){q()}),[q]),(0,j.jsx)(d.xu,{children:(0,j.jsxs)(g.Z,{gutter:12,children:[(0,j.jsx)(y.Z,{span:24,children:(0,j.jsx)(v.H.Checkbox,{label:"Check all",value:M,setValue:R,onChange:function(t){r.map((function(e,n){return r[n].check=t,u((0,k.Z)(r)),1}))}})}),(0,j.jsx)(y.Z,{span:24,children:r.map((function(t,n){return(0,j.jsx)(d.xu,{children:(0,j.jsxs)(g.Z,{children:[(0,j.jsx)(y.Z,{span:12,children:(0,j.jsx)(S.rU,{to:"/tools/tasks/projects/".concat(e,"/codeManage/document/").concat(t.folderKey,"/apis/").concat(t.apiKey),children:t.name})}),(0,j.jsx)(y.Z,{span:12,children:(0,j.jsx)(v.H.Switch,{value:t.check,setValue:function(t){return G(t,n)}})})]})},n)}))}),(0,j.jsx)(y.Z,{span:24,children:(0,j.jsx)(f.O,{type:"success",value:"L\u01b0u danh s\xe1ch public API",onClick:function(){var t={details:r};p.iL.UpdateDetail(e,n,t).then((function(t){t.isSuccess&&l.Fn.PrintMsgSuccess(t)}))}})})]})})}function M(t){var e=(0,r.UO)().key,n=(0,r.UO)().projectKey,u=(0,s.useState)(!1),k=(0,a.Z)(u,2),g=k[0],y=k[1],S=(0,r.s0)(),M=(0,s.useState)(""),R=(0,a.Z)(M,2),q=R[0],G=R[1],h=(0,s.useState)(!1),D=(0,a.Z)(h,2),w=D[0],P=D[1],Z=(0,s.useCallback)((function(){void 0!==e&&(y(!0),p.iL.GetDetail(n,e).then((function(t){t.isSuccess&&(G(t.data.name),P(t.data.status))})).finally((function(){return y(!1)})))}),[y,n,e]);function b(t){var n="".concat(window.location.origin,"/docApis/").concat(e);0===t?(navigator.clipboard.writeText(n),o.ZP.success("Save link to clipboard")):S("/docApis/".concat(e))}return(0,s.useEffect)((function(){Z()}),[Z]),(0,j.jsx)(d.ts,{title:"Ch\u1ec9nh s\u1eeda",isLoading:g,children:(0,j.jsxs)(c.Z,{layout:"vertical",onSubmitCapture:function(){var t={name:q,status:w?1:0};y(!0),void 0!==e?function(t){p.iL.GetDetail(n,e).then((function(a){a.isSuccess?(t=l.Fn.GetTimestamp(a,t),p.iL.Edit(n,e,t).then((function(t){t.isSuccess&&l.Fn.PrintMsgSuccess(t)})).finally((function(){return y(!1)}))):y(!1)}))}(t):function(t){p.iL.Add(n,t).then((function(t){t.isSuccess?(l.Fn.PrintMsgSuccess(t),S("/tools/tasks/projects/".concat(n,"/codeManage/document/publish/edit/").concat(t.data.key))):y(!1)}))}(t)},children:[(0,j.jsx)(v.H.Input,{label:"T\xean",value:q,setValue:G}),(0,j.jsx)(v.H.Switch,{label:"Public",value:w,setValue:P,readOnly:void 0===e}),(0,j.jsx)(f.O,{htmlType:"submit",type:"success",isLoading:g,value:void 0!==e?"Ch\u1ec9nh s\u1eeda":"Th\xeam"}),(0,j.jsx)(f.O,{type:"danger",value:"X\xf3a",onClick:function(){i().fire({title:"X\xe1c nh\u1eadn x\xf3a",text:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a data n\xe0y kh\xf4ng?"}).then((function(t){t.isConfirmed&&p.iL.GetDetail(n,e).then((function(t){t.isSuccess?p.iL.Delete(n,e,l.Fn.GetTimestamp(t)).then((function(t){t.isSuccess?(l.Fn.PrintMsgSuccess(t),S("/tools/tasks/projects/".concat(n,"/codeManage/document/publish"))):y(!1)})):y(!1)}))}))}}),(0,j.jsx)(f.O,{value:"Get link",type:"secondary",onClick:function(){b(0)}}),(0,j.jsx)(f.O,{value:"Go to public page",type:"warning",onClick:function(){b(1)}}),(0,j.jsx)(m,{projectKey:n,keyEdit:e})]})})}},3778:function(t,e,n){n.d(e,{Fn:function(){return s}});var a=n(5671),o=n(3144),c=n(8062),s=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"PrintMsg",value:function(t){return void 0===t.response?t.response:t.response.data.message}},{key:"PrintMsgErr",value:function(t){c.ZP.error(this.PrintMsg(t))}},{key:"PrintMsgSuccess",value:function(t){c.ZP.success(t.message)}},{key:"FormatInputMoney",value:function(t){return"".concat(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"ParseInputMoney",value:function(t){return t.replace(/\s?|(,*)/g,"")}},{key:"FormatMoney",value:function(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)}},{key:"FormatNumber",value:function(t){return new Intl.NumberFormat("vi-VN").format(t)}},{key:"RenderSTT",value:function(t,e,n,a){return(a.pageNumber-1)*a.pageSize+n+1}},{key:"PrintMsgSuccess_no_use",value:function(t){c.ZP.success(t.data.message)}}]),t}();s.GetIndexInArray=function(t,e,n){for(var a=-1,o=0;o<t.length;o++)if(t[o][e]===n){a=o;break}return a},s.GetIndexInArrayStr=function(t,e){for(var n=-1,a=0;a<t.length;a++)if(t[a].trim()===e.trim()){n=a;break}return n},s.SetPageInfo=function(t,e,n,a){var o=t.data.data.pageInfo;e(o.totalCount),n(o.currentPage),a(o.pageSize)},s.GetTimestamp=function(t,e){try{return null===e||void 0===e?t.data.timestamp:(e.timestamp=t.data.timestamp,e)}catch(n){console.log(n)}},s.GetTimestamp_no_use=function(t,e){try{return null===e||void 0===e?t.data.data.timestamp:(e.timestamp=t.data.data.timestamp,e)}catch(n){console.log(n)}}},5349:function(t,e,n){n.d(e,{GH:function(){return g},Lc:function(){return k},NX:function(){return u},RC:function(){return i},Su:function(){return l},Tz:function(){return d},Zg:function(){return p},bY:function(){return s},gU:function(){return r},iL:function(){return y},jz:function(){return v},zy:function(){return f}});var a=n(5671),o=n(3144),c=n(1285),s=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetQrCode",value:function(t){return"".concat(c.p.BaseURL,"/user/qrCode?data=taskManage_projectManage_").concat(t)}},{key:"GetStatistic",value:function(){return c.p.SendReq("v2/tools/taskManages/projects/statistic","Get")}},{key:"GetLog",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/logs?").concat(e.generateQueryString());return c.p.SendReq(n,"Get")}},{key:"GetClone",value:function(t){var e="v2/tools/taskManages/projects/".concat(t,"/duplicate");return c.p.SendReq(e,"Get")}},{key:"ProcessClone",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/duplicate");return c.p.SendReq(n,"Post",e)}},{key:"GetList",value:function(t){var e="v2/tools/taskManages/projects?".concat(t.generateQueryString());return c.p.SendReq(e,"GET")}},{key:"GetDetail",value:function(t){var e="v2/tools/taskManages/projects/".concat(t);return c.p.SendReq(e,"Get")}},{key:"Search",value:function(t){var e="v2/tools/taskManages/projects/query?query=".concat(t);return c.p.SendReq(e,"Get")}},{key:"Add",value:function(t){return c.p.SendReq("v2/tools/taskManages/projects","Post",t)}},{key:"Edit",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t);return c.p.SendReq(n,"Put",e)}},{key:"Delete",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"?timestamp=").concat(encodeURIComponent(e));return c.p.SendReq(n,"Delete")}}]),t}(),r=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/sprints").concat(void 0===e?"":"?"+e.generateQueryString());return c.p.SendReq(n,"Get")}},{key:"GetDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e);return c.p.SendReq(n,"Get")}},{key:"Add",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/sprints");return c.p.SendReq(n,"Post",e)}},{key:"Edit",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"Delete",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}}]),t}(),u=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"/toDoLists?").concat(null===n||void 0===n?void 0:n.generateQueryString());return c.p.SendReq(a,"Get")}},{key:"GetDetail",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"/toDoLists/").concat(n);return c.p.SendReq(a,"Get")}},{key:"Add",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"/toDoLists");return c.p.SendReq(a,"Post",n)}},{key:"Edit",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"/toDoLists/").concat(n);return c.p.SendReq(o,"Put",a)}},{key:"Delete",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/sprints/").concat(e,"/toDoLists/").concat(n,"?timestamp=").concat(encodeURIComponent(a));return c.p.SendReq(o,"Delete")}}]),t}(),i=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetListSettingStatus",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/statusSettings?type=").concat(e);return c.p.SendReq(n,"Get")}},{key:"GetDetailSettingStatus",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/statusSettings/").concat(e);return c.p.SendReq(n,"Get")}},{key:"AddSettingStatus",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/statusSettings");return c.p.SendReq(n,"Post",e)}},{key:"EditSettingStatus",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/statusSettings/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"DeleteSettingStatus",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/statusSettings/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}},{key:"SearchByType",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/statusSettings/query?type=").concat(e);return c.p.SendReq(n,"Get")}},{key:"Import",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/statusSettings/import");return c.p.SendReq(n,"Post",e,!0)}},{key:"Export",value:function(t){var e="v2/tools/taskManages/projects/".concat(t,"/statusSettings/export");return c.p.SendReq(e,"Get",void 0,!0)}}]),t}(),l=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/variables?").concat(e.generateQueryString());return c.p.SendReq(n,"Get")}},{key:"GetDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/variables/").concat(e);return c.p.SendReq(n,"Get")}},{key:"Add",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/variables");return c.p.SendReq(n,"Post",e)}},{key:"Edit",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/variables/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"Delete",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/variables/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}},{key:"GetHistory",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/variables/").concat(e,"/histories");return c.p.SendReq(n,"Get")}}]),t}(),p=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/folders?").concat(e.generateQueryString());return c.p.SendReq(n,"Get")}},{key:"GetDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e);return c.p.SendReq(n,"Get")}},{key:"Add",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/folders");return c.p.SendReq(n,"Post",e)}},{key:"Edit",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"Delete",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}}]),t}(),v=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis");return c.p.SendReq(n,"Get")}},{key:"GetDetail",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n);return c.p.SendReq(a,"Get")}},{key:"Add",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis");return c.p.SendReq(a,"Post",n)}},{key:"Edit",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n);return c.p.SendReq(o,"Put",a)}},{key:"Delete",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"?timestamp=").concat(encodeURIComponent(a));return c.p.SendReq(o,"Delete")}},{key:"ExecApi",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"/exec");return c.p.SendReq(a,"Get")}},{key:"Query",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/apis/query?q=").concat(e);return c.p.SendReq(n,"Get")}}]),t}(),d=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"Getlist",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"/responses");return c.p.SendReq(a,"Get")}},{key:"GetDetail",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"/responses/").concat(a);return c.p.SendReq(o,"Get")}},{key:"SaveResponse",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"/responses");return c.p.SendReq(o,"Post",a)}},{key:"Delete",value:function(t,e,n,a,o){var s="v2/tools/taskManages/projects/".concat(t,"/folders/").concat(e,"/apis/").concat(n,"/responses/").concat(a,"?timestamp=").concat(encodeURIComponent(o));return c.p.SendReq(s,"Delete")}}]),t}(),f=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t){var e="v2/tools/taskManages/workflows?".concat(t.generateQueryString());return c.p.SendReq(e,"Get")}},{key:"GetDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e);return c.p.SendReq(n,"Get")}},{key:"Add",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/workflows");return c.p.SendReq(n,"Post",e)}},{key:"Edit",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"Delete",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}}]),t}(),k=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/details?").concat(t.generateQueryString(),"&orders=true");return c.p.SendReq(a,"Get")}},{key:"GetDetail",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e,"/details/").concat(n);return c.p.SendReq(a,"Get")}},{key:"Add",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e,"/details");return c.p.SendReq(a,"Post",n)}},{key:"Edit",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e,"/details/").concat(n);return c.p.SendReq(o,"Put",a)}},{key:"Delete",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(t,"/workflows/").concat(e,"/details/").concat(n,"?timestamp=").concat(encodeURIComponent(a));return c.p.SendReq(o,"Delete")}},{key:"SwapOrder",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/details/").concat(t,"/swapOrders?isNext=").concat(a);return c.p.SendReq(o,"Post")}}]),t}(),g=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/histories?").concat(t.generateQueryString());return c.p.SendReq(a,"Get")}},{key:"GetDetail",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/histories/").concat(t);return c.p.SendReq(a,"Get")}},{key:"Add",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/histories");return c.p.SendReq(a,"Post",t)}},{key:"Edit",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(n,"/workflows/").concat(a,"/histories/").concat(t);return c.p.SendReq(o,"Put",e)}},{key:"Delete",value:function(t,e,n,a){var o="v2/tools/taskManages/projects/".concat(n,"/workflows/").concat(a,"/histories/").concat(t,"?timestamp=").concat(encodeURIComponent(e));return c.p.SendReq(o,"Delete")}},{key:"ExecApi",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(e,"/workflows/").concat(n,"/histories/").concat(t,"/exec");return c.p.SendReq(a,"Get")}}]),t}(),y=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"GetList",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(e,"/documentApi/public?").concat(t.generateQueryString());return c.p.SendReq(n,"Get")}},{key:"GetDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/documentApi/public/").concat(e);return c.p.SendReq(n,"Get")}},{key:"Add",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/documentApi/public");return c.p.SendReq(n,"Post",e)}},{key:"Edit",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/documentApi/public/").concat(e);return c.p.SendReq(a,"Put",n)}},{key:"Delete",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/documentApi/public/").concat(e,"?timestamp=").concat(encodeURIComponent(n));return c.p.SendReq(a,"Delete")}},{key:"GetListDetail",value:function(t,e){var n="v2/tools/taskManages/projects/".concat(t,"/documentApi/public/").concat(e,"/details");return c.p.SendReq(n,"Get")}},{key:"UpdateDetail",value:function(t,e,n){var a="v2/tools/taskManages/projects/".concat(t,"/documentApi/public/").concat(e,"/details");return c.p.SendReq(a,"Post",n)}},{key:"GetListPublicDocument",value:function(t,e){return c.p.SendReqV2({url:"v2/tools/taskManages/publicDocuments/".concat(t,"?replaceVar=").concat(e),method:c.O.Get,isNoAuth:!0})}}]),t}()}}]);
//# sourceMappingURL=589.73ca208e.chunk.js.map