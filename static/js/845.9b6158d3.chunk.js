"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[845],{8071:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(9439),i=n(2684),s=n(8885),u=n(1095),o=n(2791),l=n(3120),c=n(3778),r=n(7335),d=n(184);function m(e){var t=e.muityChoose;void 0===t&&(t=!1);var n=(0,o.useState)(!1),m=(0,a.Z)(n,2),f=m[0],v=m[1];return(0,o.useEffect)((function(){}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(r.H.Input,{label:e.label,onClick:function(){v(!0)},readOnly:!0,value:e.resultName}),(0,d.jsx)(s.Z,{placement:"top",open:f,onClose:function(){v(!1)},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Z,{isLoading:e.isLoading}),(0,d.jsx)(i.O,{value:"X\xf3a t\xecm ki\u1ebfm",onClick:function(){e.setResultKey(""),e.setResultName("")}}),(0,d.jsx)(r.H.Input,{readOnly:!0,label:"K\u1ebft qu\u1ea3",value:e.resultName}),(0,d.jsx)(u.Z,{children:(0,d.jsx)(r.H.Search,{label:"T\xecm ki\u1ebfm",onSearch:function(t){e.onSearch(t)}})}),e.dataSearch.map((function(n,a){return(0,d.jsx)(i.O,{value:n.name,onClick:function(){return function(n){if(!0===t){var a=e.resultName.split(",");if(-1!==c.Fn.GetIndexInArrayStr(a,n.name))return void console.log("EXIST ARRAY");e.setResultKey("".concat(e.resultKey).concat(""!==e.resultKey?", ":"").concat(n.key)),e.setResultName("".concat(e.resultName).concat(""!==e.resultName?", ":"").concat(n.name))}else e.setResultKey(n.key),e.setResultName(n.name)}(n)}},n.key)}))]})})]})}},8776:function(e,t,n){n.d(t,{E:function(){return o},y:function(){return u}});var a=n(2426),i=n.n(a),s=n(184);function u(e){var t="";return t=void 0!==e.value&&""!==e.value&&null!==e.value?i()(e.value).format("DD/MM/YYYY"):"",(0,s.jsx)("span",{children:t})}function o(e){var t="";return t=void 0!==e.value&&""!==e.value&&null!==e.value?i()(e.value).format("DD/MM/YYYY HH:mm:ss"):"",(0,s.jsx)("span",{children:t})}},9845:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(9439),i=n(2791),s=n(5594),u=n(8787),o=n(3778),l=n(2496),c=n(8885),r=n(1095),d=n(914),m=n(7335),f=n(2684),v=n(8071),p=n(184);function y(e){var t=e.setIsLoading,n=(0,i.useState)(""),s=(0,a.Z)(n,2),u=s[0],y=s[1],h=(0,i.useState)(""),g=(0,a.Z)(h,2),k=g[0],x=g[1],D=(0,i.useState)(""),S=(0,a.Z)(D,2),j=S[0],Z=S[1],C=(0,i.useState)(0),b=(0,a.Z)(C,2),w=b[0],I=b[1],L=(0,i.useState)([]),T=(0,a.Z)(L,2),A=T[0],N=T[1],V=(0,i.useState)([]),K=(0,a.Z)(V,2),O=K[0],R=K[1],H=(0,i.useState)(""),Y=(0,a.Z)(H,2),E=Y[0],M=Y[1],G=(0,i.useState)(""),F=(0,a.Z)(G,2),P=F[0],X=F[1],z=(0,i.useCallback)((function(){void 0!==e.keyData&&(t(!0),l.eV.GetDetail(e.keyData,(function(e){var t=e.data.data;y(t.name),x(t.comment),Z(t.keySecret),I(t.status),N(t.templates)}),void 0,(function(){t(!1)})))}),[e.keyData,t]);return(0,i.useEffect)((function(){z()}),[z]),(0,p.jsx)(c.Z,{title:void 0===e.keyData?"Th\xeam app m\u1edbi":"C\u1eadp nh\u1eadt th\xf4ng tin app",open:e.visible,onClose:function(){e.onClose(),M(""),X("")},children:(0,p.jsxs)(r.Z,{layout:"vertical",onSubmitCapture:function(){e.setIsLoading(!0);var t={name:u,comment:k,status:w};void 0===e.keyData?function(t){l.eV.Add(t,(function(t){e.loadData(),o.Fn.PrintMsgSuccess(t)}),(function(){e.setIsLoading(!1)}))}(t):function(t){var n=P.split(", ").map((function(t,n){return{appKey:e.keyData,templateCode:t}}));l.eV.AssignTemplates(n,(function(e){console.log(e.data.message)})),l.eV.GetDetail(e.keyData,(function(n){t=o.Fn.GetTimestamp(n,t),l.eV.Edit(e.keyData,t,(function(t){e.loadData(),o.Fn.PrintMsgSuccess(t)}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)},children:[(0,p.jsx)(m.H.Input,{label:"T\xean App",value:u,setValue:y}),(0,p.jsx)(m.H.Input,{label:"Ch\xfa th\xedch",value:k,setValue:x}),(0,p.jsx)(m.H.Input,{label:"M\xe3 b\xed m\u1eadt",readOnly:!0,value:j,setValue:Z}),(0,p.jsx)(m.H.Select,{label:"Tr\u1ea1ng th\xe1i",value:w,setValue:I,options:[{key:"active",label:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",value:1},{key:"inactive",label:"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng",value:0}]}),(0,p.jsx)(v.Z,{label:"Ch\u1ecdn template",muityChoose:!0,onSearch:function(n){t(!0),l.eV.SearchTemplate(n,e.keyData,(function(e){R(e.data.data)}),void 0,(function(){t(!1)}))},dataSearch:O,resultKey:E,resultName:P,setResultKey:M,setResultName:X,isLoading:e.isLoading}),(0,p.jsx)(r.Z.Item,{children:A.map((function(e,t){return(0,p.jsxs)(d.Z,{span:24,children:[e.code,(0,p.jsx)(f.O,{value:"X\xf3a",type:"link",onClick:function(){var t;t=e.id,l.eV.RemoveAssignTemplates(t,(function(e){z()}))}})]},t)}))}),(0,p.jsx)(f.O,{isLoading:e.isLoading,htmlType:"submit",value:void 0===e.keyData?"Th\xeam app m\u1edbi":"C\u1eadp nh\u1eadt th\xf4ng tin app"})]})})}var h=n(2611),g=n(3977),k=n(698),x=n(8776),D=n(9256);function S(){var e=[new h.Dw({title:"STT",key:"stt"}),new h.Dw({title:"T\xean",key:"name"}),new h.Dw({title:"Ch\xfa th\xedch",key:"comment"}),new h.Dw({title:"Key",key:"secret"}),new h.Dw({title:"Tr\u1ea1ng th\xe1i",key:"status",render:function(e){var t={};return t=1===e?{msg:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",color:"blue"}:{msg:"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng",color:"red"},(0,p.jsx)(s.Z,{text:t.msg,color:t.color})}}),new h.Dw({title:"Ng\xe0y th\xeam",key:"createdAt",render:function(e,t){return(0,p.jsx)(x.E,{value:e})}}),new h.Dw({title:"Ng\xe0y c\u1eadp nh\u1eadt cu\u1ed1i",key:"updatedAt",render:function(e,t){return(0,p.jsx)(x.E,{value:e})}}),new h.Dw({title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(f.O,{value:"Ch\u1ec9nh s\u1eeda",type:"link",onClick:function(){var e;e=t.key,F(e),Y(!0)}}),(0,p.jsx)(u.Z,{title:"Are you sure to delete this app?",onConfirm:function(){var e;e=t.key,b(!0),l.eV.GetDetail(e,(function(t){l.eV.Delete(e,t.data.data.timestamp,(function(e){o.Fn.PrintMsgSuccess(e),P()}),(function(){b(!1)}))}),(function(){b(!1)}))},children:(0,p.jsx)(f.O,{value:"X\xf3a",type:"link"})})]})}})],t=(0,i.useState)(new k.D),n=(0,a.Z)(t,2),c=n[0],r=n[1],d=(0,i.useState)(new k.C),m=(0,a.Z)(d,2),v=m[0],S=m[1],j=(0,i.useState)(!1),Z=(0,a.Z)(j,2),C=Z[0],b=Z[1],w=(0,i.useState)([]),I=(0,a.Z)(w,2),L=I[0],T=I[1],A=(0,i.useState)(!1),N=(0,a.Z)(A,2),V=N[0],K=N[1],O=(0,i.useState)(!1),R=(0,a.Z)(O,2),H=R[0],Y=R[1],E=(0,i.useState)(void 0),M=(0,a.Z)(E,2),G=M[0],F=M[1],P=(0,i.useCallback)((function(){b(!0);var e=new h.LY(c.pageNumber,c.pageSize,v);l.eV.GetList(e,(function(e){r(new k.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,name:e.name,comment:e.comment,secret:e.keySecret,status:e.status,createdAt:e.createdAt,updatedAt:e.updatedAt}}));T(t)}),void 0,(function(){b(!1)}))}),[c.pageNumber,c.pageSize,v]);return(0,i.useEffect)((function(){P()}),[P]),(0,p.jsxs)(D.ts,{title:"Qu\u1ea3n l\xed app mail",isLoading:C,children:[(0,p.jsx)(f.O,{type:"primary",onClick:function(){K(!0)},value:"Th\xeam app m\u1edbi"}),(0,p.jsx)(g.Z,{pageInfo:c,setPageInfo:r,column:e,dataSource:L,loading:C,loadData:P,orderBy:v,setOrderBy:S}),(0,p.jsx)(y,{keyData:void 0,loadData:P,isLoading:C,setIsLoading:b,visible:V,onClose:function(){K(!1)}}),(0,p.jsx)(y,{keyData:G,loadData:P,isLoading:C,setIsLoading:b,visible:H,onClose:function(){F(void 0),Y(!1)}})]})}}}]);
//# sourceMappingURL=845.9b6158d3.chunk.js.map