"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[566],{8071:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(9439),i=n(2684),o=n(8885),r=n(1095),u=n(2791),c=n(3120),l=n(3778),s=n(1124),d=n(184);function f(e){var t=e.muityChoose;void 0===t&&(t=!1);var n=(0,u.useState)(!1),f=(0,a.Z)(n,2),v=f[0],m=f[1];return(0,u.useEffect)((function(){}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(s.H.Input,{label:e.label,onClick:function(){m(!0)},readOnly:!0,value:e.resultName}),(0,d.jsx)(o.Z,{placement:"top",open:v,onClose:function(){m(!1)},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(c.Z,{isLoading:e.isLoading}),(0,d.jsx)(i.O,{value:"X\xf3a t\xecm ki\u1ebfm",onClick:function(){e.setResultKey(""),e.setResultName("")}}),(0,d.jsx)(s.H.Input,{readOnly:!0,label:"K\u1ebft qu\u1ea3",value:e.resultName}),(0,d.jsx)(r.Z,{children:(0,d.jsx)(s.H.Search,{label:"T\xecm ki\u1ebfm",onSearch:function(t){e.onSearch(t)}})}),e.dataSearch.map((function(n,a){return(0,d.jsx)(i.O,{value:n.name,onClick:function(){return function(n){if(!0===t){var a=e.resultName.split(",");if(-1!==l.Fn.GetIndexInArrayStr(a,n.name))return void console.log("EXIST ARRAY");e.setResultKey("".concat(e.resultKey).concat(""!==e.resultKey?", ":"").concat(n.key)),e.setResultName("".concat(e.resultName).concat(""!==e.resultName?", ":"").concat(n.name))}else e.setResultKey(n.key),e.setResultName(n.name)}(n)}},n.key)}))]})})]})}},1566:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(9439),i=n(2791),o=n(7309),r=n(8787),u=n(2496),c=n(3778),l=n(2684),s=n(8885),d=n(1095),f=n(8071),v=n(184);function m(e){var t=(0,i.useState)(""),n=(0,a.Z)(t,2),o=n[0],r=n[1],m=(0,i.useState)(""),y=(0,a.Z)(m,2),p=y[0],g=y[1],k=(0,i.useState)(""),h=(0,a.Z)(k,2),S=h[0],D=h[1],C=(0,i.useState)(""),T=(0,a.Z)(C,2),Z=T[0],x=T[1],b=(0,i.useState)([]),G=(0,a.Z)(b,2),L=G[0],N=G[1],E=(0,i.useState)([]),O=(0,a.Z)(E,2),j=O[0],P=O[1],w=e.setIsLoading,I=(0,i.useCallback)((function(){w(!0),u.rG.GetDetailLinkStored(e.keyData,(function(e){var t=e.data.data;r(t.storedOrigin.name),g(t.storedOrigin.key),D(t.storedDest.name),x(t.storedDest.key)}),void 0,(function(){w(!1)}))}),[e.keyData,w]);return(0,i.useEffect)((function(){void 0!==e.keyData&&I()}),[I,e.keyData]),(0,v.jsx)("div",{children:(0,v.jsx)(s.Z,{title:void 0===e.keyData?"Th\xeam m\u1edbi li\xean k\u1ebft":"Ch\u1ec9nh s\u1eeda li\xean k\u1ebft",open:e.visible,onClose:function(){e.setVisible(!1),void 0!==e.keyData&&e.setKeyData(void 0)},children:(0,v.jsxs)(d.Z,{layout:"vertical",children:[(0,v.jsx)(f.Z,{label:"Stored ngu\u1ed3n",onSearch:function(t){e.setIsLoading(!0),u.rG.SearchName(t,(function(e){N(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:L,resultKey:p,resultName:o,setResultKey:g,setResultName:r,isLoading:e.isLoading}),(0,v.jsx)(f.Z,{label:"Stored \u0111\xedch",onSearch:function(t){e.setIsLoading(!0),u.rG.SearchName(t,(function(e){P(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:j,resultKey:Z,resultName:S,setResultKey:x,setResultName:D,isLoading:e.isLoading}),(0,v.jsx)(l.O,{value:void 0===e.keyData?"Th\xeam":"Ch\u1ec9nh s\u1eeda",onClick:function(){var t={storedOriginKey:p,storedDestKey:Z};e.setIsLoading(!0),void 0===e.keyData?function(t){u.rG.AddLinkStored(t,(function(t){c.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(t):function(t){u.rG.GetDetailLinkStored(e.keyData,(function(n){t=c.Fn.GetTimestamp(n,t),u.rG.EditLinkStored(e.keyData,t,(function(t){c.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)},type:"success"})]})})})}var y=n(2611),p=n(50),g=n(698);function k(){var e=[new y.Dw({title:"STT",key:"stt"}),new y.Dw({title:"Stored ngu\u1ed3n",key:"storedOrigin"}),new y.Dw({title:"Stored li\xean k\u1ebft",key:"storedDest"}),new y.Dw({title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{type:"link",onClick:function(){var e;e=t.key,V(e),R(!0)},children:"Ch\u1ec9nh s\u1eeda"}),(0,v.jsx)(r.Z,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){var e;e=t.key,L(!0),u.rG.GetDetailLinkStored(e,(function(t){u.rG.DeleteLinkStored(e,c.Fn.GetTimestamp(t),(function(e){c.Fn.PrintMsgSuccess(e),B()}),(function(){L(!1)}))}),(function(){L(!1)}))},children:(0,v.jsx)(o.Z,{type:"link",children:"X\xf3a"})})]})}})],t=(0,i.useState)(new g.C),n=(0,a.Z)(t,2),s=n[0],d=n[1],f=(0,i.useState)(new g.D),k=(0,a.Z)(f,2),h=k[0],S=k[1],D=(0,i.useState)([]),C=(0,a.Z)(D,2),T=C[0],Z=C[1],x=(0,i.useState)(!1),b=(0,a.Z)(x,2),G=b[0],L=b[1],N=(0,i.useState)(!1),E=(0,a.Z)(N,2),O=E[0],j=E[1],P=(0,i.useState)(!1),w=(0,a.Z)(P,2),I=w[0],R=w[1],A=(0,i.useState)(void 0),K=(0,a.Z)(A,2),M=K[0],V=K[1],B=(0,i.useCallback)((function(){L(!0);var e=new y.LY(h.pageNumber,h.pageSize,s);u.rG.GetLinkStored(void 0,e,(function(e){S(new g.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,storedOrigin:e.storedOrigin.name,storedDest:e.storedDest.name}}));Z(t)}),void 0,(function(){L(!1)}))}),[h.pageNumber,h.pageSize,s]);return(0,i.useEffect)((function(){B()}),[B]),(0,v.jsxs)("div",{className:"my-box",children:[(0,v.jsx)(l.O,{value:"Th\xeam m\u1edbi",onClick:function(){j(!0)}}),(0,v.jsx)(p.Z,{pageInfo:h,setPageInfo:S,orderBy:s,setOrderBy:d,column:e,dataSource:T,loading:G,loadData:B}),(0,v.jsx)(m,{visible:O,setVisible:j,isLoading:G,setIsLoading:L,loadData:B}),(0,v.jsx)(m,{keyData:M,setKeyData:V,visible:I,setVisible:R,isLoading:G,setIsLoading:L,loadData:B})]})}},2611:function(e,t,n){n.d(t,{Dw:function(){return o},LY:function(){return r}});var a=n(3144),i=n(5671),o=(0,a.Z)((function e(t){(0,i.Z)(this,e),this.title=void 0,this.dataIndex=void 0,this.key=void 0,this.render=void 0,this.className=void 0,this.width=void 0,this.label=void 0,this.value=void 0,this.disabled=!1,this.title=t.title,this.key=t.key,void 0===t.dataIndex?this.dataIndex=t.key:this.dataIndex=t.dataIndex,this.render=t.render,this.className=t.className,this.width=t.width,this.label=t.title,this.value=t.key,"stt"!==this.key&&"action"!==this.key||(this.disabled=!0),void 0!==t.disabled&&(this.disabled=t.disabled)})),r=function(){function e(t,n,a){(0,i.Z)(this,e),this.pageNumber=1,this.pageSize=10,this.orderBy=void 0,this.pageNumber=t,this.pageSize=n,this.orderBy=a}return(0,a.Z)(e,[{key:"generateQueryString",value:function(){return void 0===this?"":"pageNumber=".concat(this.pageNumber,"&pageSize=").concat(this.pageSize,"&orderBy=").concat(this.orderBy.genQueryOrderBy())}}]),e}()},2496:function(e,t,n){n.d(t,{Cp:function(){return l},KH:function(){return s},PH:function(){return r},eV:function(){return u},hl:function(){return d},rG:function(){return c}});var a=n(5671),i=n(3144),o=n(1285),r=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n,a){var i="mails/templates?".concat(e.generateQueryString());return o.T.Get(i,t,n,a)}},{key:"GetDetail",value:function(e,t,n,a){var i="mails/templates/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Detail",value:function(e,t,n,a){var i="mails/templates/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Add",value:function(e,t,n,a){return o.T.Post("mails/templates",e,t,n,a)}},{key:"Edit",value:function(e,t,n,a,i){var r="mails/templates/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"Delete",value:function(e,t,n,a,i){var r="mails/templates/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}}]),e}(),u=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n,a){var i="mails/apps?".concat(e.generateQueryString());return o.T.Get(i,t,n,a)}},{key:"GetDetail",value:function(e,t,n,a){var i="mails/apps/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Add",value:function(e,t,n,a){return o.T.Post("mails/apps",e,t,n,a)}},{key:"Edit",value:function(e,t,n,a,i){var r="mails/apps/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"Delete",value:function(e,t,n,a,i){var r="mails/apps/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}},{key:"SearchTemplate",value:function(e,t,n,a,i){var r="mails/templates/searchName?query=".concat(e,"&appKey=").concat(t);return o.T.Get(r,n,a,i)}},{key:"AssignTemplates",value:function(e,t,n,a){return o.T.Post("mails/assignTemplates",e,t,n,a)}},{key:"RemoveAssignTemplates",value:function(e,t,n,a){var i="mails/removeAssignTemplates?id=".concat(e);return o.T.Delete(i,t,n,a)}}]),e}(),c=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n,a){var i="storedManage?".concat(e.generateQueryString());return o.T.Get(i,t,n,a)}},{key:"GetDetail",value:function(e,t,n,a){var i="storedManage/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Add",value:function(e,t,n,a){return o.T.Post("storedManage",e,t,n,a)}},{key:"Edit",value:function(e,t,n,a,i){var r="storedManage/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"Delete",value:function(e,t,n,a,i){var r="storedManage/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}},{key:"SearchName",value:function(e,t,n,a){var i="storedManage/queryStored?query=".concat(e);return o.T.Get(i,t,n,a)}},{key:"GetLinkStored",value:function(e,t,n,a,i){var r;return r=void 0!==e?"storedManage/".concat(e,"/linkStored"):"storedManage/linkStored?".concat(null===t||void 0===t?void 0:t.generateQueryString()),o.T.Get(r,n,a,i)}},{key:"GetDetailLinkStored",value:function(e,t,n,a){var i="storedManage/linkStored/".concat(e);return o.T.Get(i,t,n,a)}},{key:"AddLinkStored",value:function(e,t,n,a){return o.T.Post("storedManage/linkStored",e,t,n,a)}},{key:"EditLinkStored",value:function(e,t,n,a,i){var r="storedManage/linkStored/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"DeleteLinkStored",value:function(e,t,n,a,i){var r="storedManage/linkStored/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}}]),e}(),l=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n){return o.T.Get("loggingCli",e,t,n)}},{key:"GetDetail",value:function(e,t,n,a){var i="loggingCli/".concat(e);return o.T.Get(i,t,n,a)}},{key:"GetListLogAction",value:function(e,t,n,a){var i="loggingCli/logActions?".concat(e);return o.T.Get(i,t,n,a)}},{key:"DeleteLogAction",value:function(e,t,n,a){var i="loggingCli/logActions?".concat(e);return o.T.Delete(i,t,n,a)}},{key:"GetChartData",value:function(e,t,n){return o.T.Get("loggingCli/logActions/statistic",e,t,n)}},{key:"GetLogStored",value:function(e,t,n){return o.T.Get("/home/getDataRedis",e,t,n)}}]),e}(),s=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n,a){var i="logVersions?".concat(e.generateQueryString());return o.T.Get(i,t,n,a)}},{key:"GetDetail",value:function(e,t,n,a){var i="logVersions/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Add",value:function(e,t,n,a){return o.T.Post("logVersions",e,t,n,a)}},{key:"Edit",value:function(e,t,n,a,i){var r="logVersions/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"Delete",value:function(e,t,n,a,i){var r="logVersions/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}}]),e}(),d=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetList",value:function(e,t,n,a,i,r){var u="admin/menus?pageSize=".concat(t,"&pageNumber=").concat(e,"&orderBy=").concat(n.genQueryOrderBy(),"&typeOrder=").concat(n.esc?"asc":"desc");return o.T.Get(u,a,i,r)}},{key:"GetDetail",value:function(e,t,n,a){var i="admin/menus/".concat(e);return o.T.Get(i,t,n,a)}},{key:"Add",value:function(e,t,n,a){return o.T.Post("admin/menus",e,t,n,a)}},{key:"Edit",value:function(e,t,n,a,i){var r="admin/menus/".concat(e);return o.T.Put(r,t,n,a,i)}},{key:"Delete",value:function(e,t,n,a,i){var r="admin/menus/".concat(e,"?timestamp=").concat(encodeURIComponent(t));return o.T.Delete(r,n,a,i)}},{key:"Query",value:function(e,t,n,a){var i="admin/menus/query?data=".concat(e);return o.T.Get(i,t,n,a)}}]),e}()},8787:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(7462),i=n(9439),o=n(187),r=n(1694),u=n.n(r),c=n(5179),l=n(1354),s=n(2791),d=n(1929),f=n(5945),v=function(e){return e?"function"===typeof e?e():e:null},m=n(9464),y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n},p=function(e){var t=e.title,n=e.content,a=e.prefixCls;return t||n?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:"".concat(a,"-title")},v(t)),s.createElement("div",{className:"".concat(a,"-inner-content")},v(n))):null};var g=s.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,o=e.content,r=e._overlay,u=e.placement,c=void 0===u?"top":u,l=e.trigger,v=void 0===l?"hover":l,g=e.mouseEnterDelay,k=void 0===g?.1:g,h=e.mouseLeaveDelay,S=void 0===h?.1:h,D=e.overlayStyle,C=void 0===D?{}:D,T=y(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),Z=s.useContext(d.E_).getPrefixCls,x=Z("popover",n),b=Z();return s.createElement(f.Z,(0,a.Z)({placement:c,trigger:v,mouseEnterDelay:k,mouseLeaveDelay:S,overlayStyle:C},T,{prefixCls:x,ref:t,overlay:r||s.createElement(p,{prefixCls:x,title:i,content:o}),transitionName:(0,m.mL)(b,"zoom-big",T.transitionName)}))})),k=n(1113),h=n(7309),S=n(2571),D=n(8368);function C(e){return!(!e||!e.then)}var T=function(e){var t=s.useRef(!1),n=s.useRef(),o=(0,D.Z)(!1),r=(0,i.Z)(o,2),u=r[0],c=r[1],l=e.close,d=function(){null===l||void 0===l||l.apply(void 0,arguments)};s.useEffect((function(){var t;if(e.autoFocus){var a=n.current;t=setTimeout((function(){return a.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var f=e.type,v=e.children,m=e.prefixCls,y=e.buttonProps;return s.createElement(h.Z,(0,a.Z)({},(0,S.n)(f),{onClick:function(n){var a=e.actionFn;if(!t.current)if(t.current=!0,a){var i;if(e.emitEvent){if(i=a(n),e.quitOnNullishReturnValue&&!C(i))return t.current=!1,void d(n)}else if(a.length)i=a(l),t.current=!1;else if(!(i=a()))return void d();!function(e){C(e)&&(c(!0),e.then((function(){c(!1,!0),d.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),c(!1,!0),t.current=!1})))}(i)}else d()},loading:u,prefixCls:m},y,{ref:n}),v)},Z=n(3486),x=n(454),b=function(e){var t=e.prefixCls,n=e.okButtonProps,i=e.cancelButtonProps,o=e.title,r=e.cancelText,u=e.okText,c=e.okType,l=e.icon,f=e.showCancel,m=void 0===f||f,y=e.close,p=e.onConfirm,g=e.onCancel,k=s.useContext(d.E_).getPrefixCls;return s.createElement(Z.Z,{componentName:"Popconfirm",defaultLocale:x.Z.Popconfirm},(function(e){return s.createElement("div",{className:"".concat(t,"-inner-content")},s.createElement("div",{className:"".concat(t,"-message")},l,s.createElement("div",{className:"".concat(t,"-message-title")},v(o))),s.createElement("div",{className:"".concat(t,"-buttons")},m&&s.createElement(h.Z,(0,a.Z)({onClick:g,size:"small"},i),null!==r&&void 0!==r?r:e.cancelText),s.createElement(T,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,S.n)(c)),n),actionFn:p,close:y,prefixCls:k("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==u&&void 0!==u?u:e.okText)))}))},G=void 0,L=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n},N=s.forwardRef((function(e,t){var n=s.useContext(d.E_).getPrefixCls,r=(0,c.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),f=(0,i.Z)(r,2),v=f[0],m=f[1],y=function(t,n){var a,i;m(t,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n),null===(i=e.onOpenChange)||void 0===i||i.call(e,t,n)},p=e.prefixCls,h=e.placement,S=void 0===h?"top":h,D=e.trigger,C=void 0===D?"click":D,T=e.okType,Z=void 0===T?"primary":T,x=e.icon,N=void 0===x?s.createElement(o.Z,null):x,E=e.children,O=e.overlayClassName,j=L(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),P=n("popover",p),w=n("popconfirm",p),I=u()(w,O);return s.createElement(g,(0,a.Z)({},j,{trigger:C,prefixCls:P,placement:S,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||y(t)},open:v,ref:t,overlayClassName:I,_overlay:s.createElement(b,(0,a.Z)({okType:Z,icon:N},e,{prefixCls:P,close:function(e){y(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(G,t)},onCancel:function(t){var n;y(!1,t),null===(n=e.onCancel)||void 0===n||n.call(G,t)}}))}),(0,k.Tm)(E,{onKeyDown:function(e){var t,n;s.isValidElement(E)&&(null===(n=null===E||void 0===E?void 0:(t=E.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===l.Z.ESC&&v&&y(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=566.a39a1732.chunk.js.map