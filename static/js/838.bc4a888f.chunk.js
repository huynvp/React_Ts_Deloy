"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[838],{1566:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(9439),i=n(2791),s=n(7309),o=n(8787),r=n(2496),d=n(3778),u=n(2684),c=n(8885),l=n(1095),f=n(8071),k=n(184);function g(e){var t=(0,i.useState)(""),n=(0,a.Z)(t,2),s=n[0],o=n[1],g=(0,i.useState)(""),y=(0,a.Z)(g,2),S=y[0],D=y[1],v=(0,i.useState)(""),m=(0,a.Z)(v,2),h=m[0],L=m[1],Z=(0,i.useState)(""),b=(0,a.Z)(Z,2),x=b[0],w=b[1],j=(0,i.useState)([]),p=(0,a.Z)(j,2),G=p[0],C=p[1],I=(0,i.useState)([]),N=(0,a.Z)(I,2),O=N[0],K=N[1],T=e.setIsLoading,F=(0,i.useCallback)((function(){T(!0),r.rG.GetDetailLinkStored(e.keyData,(function(e){var t=e.data.data;o(t.storedOrigin.name),D(t.storedOrigin.key),L(t.storedDest.name),w(t.storedDest.key)}),void 0,(function(){T(!1)}))}),[e.keyData,T]);return(0,i.useEffect)((function(){void 0!==e.keyData&&F()}),[F,e.keyData]),(0,k.jsx)("div",{children:(0,k.jsx)(c.Z,{title:void 0===e.keyData?"Th\xeam m\u1edbi li\xean k\u1ebft":"Ch\u1ec9nh s\u1eeda li\xean k\u1ebft",visible:e.visible,onClose:function(){e.setVisible(!1),void 0!==e.keyData&&e.setKeyData(void 0)},children:(0,k.jsxs)(l.Z,{layout:"vertical",children:[(0,k.jsx)(f.Z,{label:"Stored ngu\u1ed3n",onSearch:function(t){e.setIsLoading(!0),r.rG.SearchName(t,(function(e){C(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:G,resultKey:S,resultName:s,setResultKey:D,setResultName:o,isLoading:e.isLoading}),(0,k.jsx)(f.Z,{label:"Stored \u0111\xedch",onSearch:function(t){e.setIsLoading(!0),r.rG.SearchName(t,(function(e){K(e.data.data)}),void 0,(function(){e.setIsLoading(!1)}))},dataSearch:O,resultKey:x,resultName:h,setResultKey:w,setResultName:L,isLoading:e.isLoading}),(0,k.jsx)(u.O,{value:void 0===e.keyData?"Th\xeam":"Ch\u1ec9nh s\u1eeda",onClick:function(){var t={storedOriginKey:S,storedDestKey:x};e.setIsLoading(!0),void 0===e.keyData?function(t){r.rG.AddLinkStored(t,(function(t){d.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}(t):function(t){r.rG.GetDetailLinkStored(e.keyData,(function(n){t=d.Fn.GetTimestamp(n,t),r.rG.EditLinkStored(e.keyData,t,(function(t){d.Fn.PrintMsgSuccess(t),e.loadData()}),(function(){e.setIsLoading(!1)}))}),(function(){e.setIsLoading(!1)}))}(t)},type:"success"})]})})})}var y=n(2611),S=n(3977),D=n(698);function v(){var e=[new y.Dw({title:"STT",key:"stt"}),new y.Dw({title:"Stored ngu\u1ed3n",key:"storedOrigin"}),new y.Dw({title:"Stored li\xean k\u1ebft",key:"storedDest"}),new y.Dw({title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{type:"link",onClick:function(){var e;e=t.key,M(e),P(!0)},children:"Ch\u1ec9nh s\u1eeda"}),(0,k.jsx)(o.Z,{title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){var e;e=t.key,G(!0),r.rG.GetDetailLinkStored(e,(function(t){r.rG.DeleteLinkStored(e,d.Fn.GetTimestamp(t),(function(e){d.Fn.PrintMsgSuccess(e),V()}),(function(){G(!1)}))}),(function(){G(!1)}))},children:(0,k.jsx)(s.Z,{type:"link",children:"X\xf3a"})})]})}})],t=(0,i.useState)(new D.C),n=(0,a.Z)(t,2),c=n[0],l=n[1],f=(0,i.useState)(new D.D),v=(0,a.Z)(f,2),m=v[0],h=v[1],L=(0,i.useState)([]),Z=(0,a.Z)(L,2),b=Z[0],x=Z[1],w=(0,i.useState)(!1),j=(0,a.Z)(w,2),p=j[0],G=j[1],C=(0,i.useState)(!1),I=(0,a.Z)(C,2),N=I[0],O=I[1],K=(0,i.useState)(!1),T=(0,a.Z)(K,2),F=T[0],P=T[1],R=(0,i.useState)(void 0),B=(0,a.Z)(R,2),E=B[0],M=B[1],V=(0,i.useCallback)((function(){G(!0);var e=new y.LY(m.pageNumber,m.pageSize,c);r.rG.GetLinkStored(void 0,e,(function(e){h(new D.D(e));var t=e.data.data.pagedData.map((function(e,t){return{stt:t+1,key:e.key,storedOrigin:e.storedOrigin.name,storedDest:e.storedDest.name}}));x(t)}),void 0,(function(){G(!1)}))}),[m.pageNumber,m.pageSize,c]);return(0,i.useEffect)((function(){V()}),[V]),(0,k.jsxs)("div",{className:"my-box",children:[(0,k.jsx)(u.O,{value:"Th\xeam m\u1edbi",onClick:function(){O(!0)}}),(0,k.jsx)(S.Z,{pageInfo:m,setPageInfo:h,orderBy:c,setOrderBy:l,column:e,dataSource:b,loading:p,loadData:V}),(0,k.jsx)(g,{visible:N,setVisible:O,isLoading:p,setIsLoading:G,loadData:V}),(0,k.jsx)(g,{keyData:E,setKeyData:M,visible:F,setVisible:P,isLoading:p,setIsLoading:G,loadData:V})]})}}}]);
//# sourceMappingURL=838.bc4a888f.chunk.js.map