"use strict";(self.webpackChunkmyweb=self.webpackChunkmyweb||[]).push([[1936],{7774:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s=n(4165),i=n(5861),a=n(9439),u=n(2409),c=n(2791),o=n(7689),l=n(1830),r=n.n(l),f=n(3778),d=n(5349),p=n(7335),h=n(9256),y=n(2684),j=n(458),v=(n(7121),n(6106)),x=n(914),S=n(8885),g=n(2820),m=n(184);function b(e){var t=(0,c.useState)([]),n=(0,a.Z)(t,2),s=n[0],i=n[1],u=e.projectKey,o=e.folderKey,l=e.apiKey,p=e.visible,b=e.setVisible,Z=e.isLoading,k=e.setIsLoading,C=(0,c.useCallback)((function(){p&&d.Tz.Getlist(u,o,l).then((function(e){e.isSuccess&&i(e.data.pagedData)}))}),[u,o,l,p]);function V(e){r().fire({title:"X\xe1c nh\u1eadn x\xf3a",text:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a response n\xe0y kh\xf4ng?"}).then((function(t){t.isConfirmed&&function(e){k(!0),d.Tz.GetDetail(u,o,l,e).then((function(t){t.isSuccess?d.Tz.Delete(u,o,l,e,f.Fn.GetTimestampV2(t)).then((function(e){e.isSuccess&&(f.Fn.PrintMsgSuccessV2(e),C())})).finally((function(){return k(!1)})):k(!1)}))}(e)}))}return(0,c.useEffect)((function(){C()}),[C]),(0,m.jsx)(S.Z,{size:"large",title:"Response",open:p,onClose:function(){b(!1)},children:s.map((function(e,t){return(0,m.jsxs)(h.xu,{children:[(0,m.jsxs)(v.Z,{children:[(0,m.jsx)(x.Z,{span:12,children:(0,m.jsxs)(g.xv,{children:[(0,m.jsx)(g.R1,{value:"Name: "}),e.name]})}),(0,m.jsx)(x.Z,{span:12,style:{textAlign:"right"},children:(0,m.jsx)(y.O,{type:"danger",value:"X\xf3a",isLoading:Z,onClick:function(){V(e.key)}})})]}),(0,m.jsx)(j.T,{height:70,value:e.responses})]},t)}))})}function Z(e){var t=e.projectKey,n=e.folderKey,s=e.apiKey,i=(0,c.useState)(""),u=(0,a.Z)(i,2),o=u[0],l=u[1],p=(0,c.useState)("{}"),v=(0,a.Z)(p,2),x=v[0],S=v[1],g=(0,c.useState)(!1),Z=(0,a.Z)(g,2),k=Z[0],C=Z[1],V=(0,c.useState)(""),L=(0,a.Z)(V,2),T=L[0],K=L[1],O=e.isLoading,z=e.setIsLoading;return(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(y.O,{isLoading:O,value:"Xem response \u0111\xe3 l\u01b0u",type:"primary",onClick:function(){C(!0)}}),(0,m.jsx)(y.O,{isLoading:O,value:"Ch\u1ea1y APi",type:"warning",onClick:function(){z(!0),d.jz.ExecApi(t,n,s).then((function(e){e.isSuccess&&(l(e.data.result.statusCode),S(JSON.stringify(e.data.result.data)),K(JSON.stringify(e.data.result.request)))})).finally((function(){return z(!1)}))}}),(0,m.jsx)(y.O,{isLoading:O,disabled:""===o,value:"L\u01b0u response",onClick:function(){r().fire({title:"Nh\u1eadp t\xean response",input:"text",preConfirm:function(e){!function(e){var i={name:e,responses:x};d.Tz.SaveResponse(t,n,s,i).then((function(e){e.isSuccess&&f.Fn.PrintMsgSuccessV2(e)}))}(e)}})},type:"success"}),(0,m.jsxs)("p",{children:["Status code: ",o]}),(0,m.jsx)(j.T,{value:x,setValue:S}),(0,m.jsx)("p",{children:"Debug: "}),(0,m.jsx)(j.T,{value:T,setValue:K}),(0,m.jsx)(b,{visible:k,setVisible:C,projectKey:t,folderKey:n,apiKey:s,isLoading:O,setIsLoading:z})]})}var k=n(8658);function C(e){var t=(0,o.UO)().key,n=(0,o.UO)().projectKey,l=(0,o.UO)().folderKey,v=(0,o.s0)(),x=(0,c.useState)([]),S=(0,a.Z)(x,2),g=S[0],b=S[1],C=(0,c.useState)(""),V=(0,a.Z)(C,2),L=V[0],T=V[1],K=(0,c.useState)(1),O=(0,a.Z)(K,2),z=O[0],P=O[1],D=(0,c.useState)(""),G=(0,a.Z)(D,2),F=G[0],I=G[1],w=(0,c.useState)(""),A=(0,a.Z)(w,2),M=A[0],N=A[1],R=(0,c.useState)(),J=(0,a.Z)(R,2),X=J[0],E=J[1],H=(0,c.useState)(!1),U=(0,a.Z)(H,2),q=U[0],B=U[1],Q=(0,c.useState)(),W=(0,a.Z)(Q,2),Y=W[0],$=W[1];var _=(0,c.useCallback)((0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t&&(B(!0),d.jz.GetDetail(n,l,t).then((function(e){if(e.isSuccess){var t=e.data;b(t.headers),T(t.name),P(t.method),I(t.url),E(t.varReplace),N(null===t.body?"":JSON.stringify(t.body)),$(t.body)}})).finally((function(){return B(!1)})));case 1:case"end":return e.stop()}}),e)}))),[n,l,t,B]);function ee(e){(function(e){try{return JSON.parse(e)&&!!e}catch(t){return!1}})(e)&&$(JSON.parse(e)),N(e)}function te(){var e=g;return e=e.filter((function(e){return void 0!==e&&""!==e.key}))}return(0,c.useEffect)((function(){_()}),[_]),(0,m.jsxs)(h.ts,{title:void 0!==t?"Chi ti\u1ebft API":"Th\xeam m\u1edbi API",children:[(0,m.jsxs)(u.Z,{layout:"vertical",onSubmitCapture:function(){B(!0);var e={name:L,headers:te(),url:F,method:z,varReplace:X,body:Y};void 0===t?function(e){d.jz.Add(n,l,e).then((function(e){e.isSuccess&&(f.Fn.PrintMsgSuccessV2(e),v("/tools/tasks/projects/".concat(n,"/codeManage/document/").concat(l,"/apis/").concat(e.data.key)))})).finally((function(){return B(!1)}))}(e):function(e){d.jz.GetDetail(n,l,t).then((function(s){s.isSuccess?(e=f.Fn.GetTimestampV2(s,e),d.jz.Edit(n,l,t,e).then((function(e){e.isSuccess&&f.Fn.PrintMsgSuccessV2(e)})).finally((function(){return B(!1)}))):B(!1)}))}(e)},children:[(0,m.jsx)(p.H.Input,{label:"T\xean",value:L,setValue:T}),(0,m.jsx)(p.H.Select,{label:"Ph\u01b0\u01a1ng th\u1ee9c",options:[{value:1,label:"Get"},{value:2,label:"Post"},{value:3,label:"Put"},{value:4,label:"Delete"}],value:z,setValue:P}),(0,m.jsx)(p.H.Input,{label:"URL",value:F,setValue:I}),(0,m.jsx)(k.Z,{data:g,setData:b}),(0,m.jsx)(j.T,{value:M,setValue:function(e){ee(e)}}),(0,m.jsx)(p.H.TextArea,{label:"Script l\u01b0u bi\u1ebfn ",value:X,setValue:E}),(0,m.jsx)(y.O,{htmlType:"submit",isLoading:q,type:"success",value:void 0===t?"Th\xeam m\u1edbi":"Ch\u1ec9nh s\u1eeda"}),(0,m.jsx)(y.O,{type:"danger",isLoading:q,onClick:function(){r().fire("X\xe1c nh\u1eadn x\xf3a","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a d\u1eef li\u1ec7u kh\xf4ng?","question").then((function(e){e.isConfirmed&&(B(!0),d.jz.GetDetail(n,l,t).then((function(e){e.isSuccess&&d.jz.Delete(n,l,t,f.Fn.GetTimestampV2(e)).then((function(e){e.isSuccess&&(f.Fn.PrintMsgSuccessV2(e),v("/tools/tasks/projects/".concat(n,"/codeManage/document?folder=").concat(l)))}))})))}))},disabled:void 0===t,value:"X\xf3a"})]}),(0,m.jsx)(Z,{isLoading:q,setIsLoading:B,projectKey:n,folderKey:l,apiKey:t})]})}}}]);
//# sourceMappingURL=1936.c4d30fb7.chunk.js.map