{"version":3,"file":"static/js/1936.c4d30fb7.chunk.js","mappings":"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","sources":["components/tool/task/workflow/document/ViewResponseComponent.tsx","components/tool/task/workflow/document/ExecuteApiComponent.tsx","components/tool/task/workflow/document/ModifyApiDocComponent.tsx"],"sourcesContent":["import { Col, Drawer, Row } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocResponseService } from \"../../../../../services/taskService\";\r\nimport { Box } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport { Text, TextStrong } from \"../../../../core/Text\";\r\nimport { MonacoEditorComponent } from \"../../../test/MonacoEditorComponent\";\r\n\r\nexport default function ViewResponseComponent(props: any) {\r\n    const [data, setData] = useState([]);\r\n\r\n    const { projectKey, folderKey, apiKey, visible, setVisible, isLoading, setIsLoading } = props;\r\n\r\n    const loadDataDetail = useCallback(() => {\r\n        if (visible) {\r\n            ApiDocResponseService.Getlist(projectKey, folderKey, apiKey)\r\n                .then((rs: any) => {\r\n                    if (rs.isSuccess) {\r\n                        setData(rs.data.pagedData);\r\n                    }\r\n                })\r\n        }\r\n    }, [projectKey, folderKey, apiKey, visible]);\r\n\r\n    useEffect(() => {\r\n        loadDataDetail();\r\n    }, [loadDataDetail])\r\n\r\n    function handleOnClose() {\r\n        setVisible(false);\r\n    }\r\n\r\n    function handleClickDelete(key: string | undefined) {\r\n        Swal.fire({\r\n            title: \"Xác nhận xóa\",\r\n            text: \"Bạn có muốn xóa response này không?\",\r\n        })\r\n            .then((rs) => {\r\n                if (rs.isConfirmed) {\r\n                    DoDelete(key);\r\n                }\r\n            })\r\n    }\r\n\r\n    function DoDelete(key: string | undefined) {\r\n        setIsLoading(true);\r\n        ApiDocResponseService.GetDetail(projectKey, folderKey, apiKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    ApiDocResponseService.Delete(projectKey, folderKey, apiKey, key, Fn.GetTimestampV2(rs))\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                                loadDataDetail();\r\n                            }\r\n                        }).finally(() => setIsLoading(false));\r\n                } else setIsLoading(false);\r\n            });\r\n    }\r\n\r\n    function RenderData() {\r\n        return data.map((data: any, index: number) =>\r\n            <Box key={index}>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Text>\r\n                            <TextStrong value=\"Name: \" />{data.name}\r\n                        </Text>\r\n                    </Col>\r\n                    <Col span={12} style={{ textAlign: \"right\" }}>\r\n                        <MyButton\r\n                            type=\"danger\"\r\n                            value=\"Xóa\"\r\n                            isLoading={isLoading}\r\n                            onClick={() => { handleClickDelete(data.key) }} />\r\n                    </Col>\r\n                </Row>\r\n                {/* <JsonViewerComponent data={data.responses} /> */}\r\n\r\n                <MonacoEditorComponent\r\n                    height={70}\r\n                    value={data.responses} />\r\n            </Box>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Drawer\r\n            size=\"large\"\r\n            title=\"Response\"\r\n            open={visible}\r\n            onClose={handleOnClose}>\r\n            {RenderData()}\r\n        </Drawer>\r\n    )\r\n}","import { useState } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocResponseService, ApiDocService } from \"../../../../../services/taskService\";\r\nimport { Box } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport { MonacoEditorComponent } from \"../../../test/MonacoEditorComponent\";\r\nimport \"../../task.css\";\r\nimport ViewResponseComponent from \"./ViewResponseComponent\";\r\n\r\nexport default function ExecuteApiComponent(props: any) {\r\n    const { projectKey, folderKey, apiKey } = props;\r\n    const [statusCode, setStatusCode] = useState('');\r\n    const [response, setResponse] = useState(\"{}\");\r\n    const [visible, setVisible] = useState(false);\r\n    const [debug, setDebug] = useState('');\r\n\r\n    const { isLoading, setIsLoading } = props;\r\n\r\n    function OnClickExec() {\r\n        setIsLoading(true);\r\n        ApiDocService.ExecApi(projectKey, folderKey, apiKey)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    setStatusCode(rs.data.result.statusCode);\r\n                    setResponse(JSON.stringify(rs.data.result.data));\r\n                    setDebug(JSON.stringify(rs.data.result.request));\r\n                }\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }\r\n\r\n    function handleClickSaveResponse() {\r\n        Swal.fire({\r\n            title: \"Nhập tên response\",\r\n            input: \"text\",\r\n            preConfirm: (name) => {\r\n                saveResponse(name);\r\n            }\r\n        })\r\n    }\r\n\r\n    function saveResponse(name: string) {\r\n        let body = {\r\n            name: name,\r\n            responses: response\r\n        }\r\n        ApiDocResponseService.SaveResponse(projectKey, folderKey, apiKey, body)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    Fn.PrintMsgSuccessV2(rs);\r\n                }\r\n            })\r\n    }\r\n\r\n    function handleClickViewResponse() {\r\n        setVisible(true);\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                value=\"Xem response đã lưu\"\r\n                type=\"primary\"\r\n                onClick={handleClickViewResponse}\r\n            />\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                value=\"Chạy APi\"\r\n                type=\"warning\"\r\n                onClick={OnClickExec}\r\n            />\r\n            <MyButton\r\n                isLoading={isLoading}\r\n                disabled={statusCode === ''}\r\n                value=\"Lưu response\"\r\n                onClick={handleClickSaveResponse}\r\n                type=\"success\" />\r\n            <p>Status code: {statusCode}</p>\r\n\r\n            <MonacoEditorComponent\r\n                value={response}\r\n                setValue={setResponse} />\r\n\r\n            <p>Debug: </p>\r\n            <MonacoEditorComponent\r\n                value={debug}\r\n                setValue={setDebug} />\r\n\r\n            <ViewResponseComponent\r\n                visible={visible}\r\n                setVisible={setVisible}\r\n                projectKey={projectKey}\r\n                folderKey={folderKey}\r\n                apiKey={apiKey}\r\n                isLoading={isLoading}\r\n                setIsLoading={setIsLoading} />\r\n        </Box>\r\n    );\r\n}","import { Form } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Fn } from \"../../../../../helper/function\";\r\nimport { ApiDocService } from \"../../../../../services/taskService\";\r\nimport { MyFormItem } from \"../../../../core/Input\";\r\nimport { MyBox } from \"../../../../core/MyBox\";\r\nimport { MyButton } from \"../../../../core/MyButton\";\r\nimport { MonacoEditorComponent } from \"../../../test/MonacoEditorComponent\";\r\nimport ExecuteApiComponent from \"./ExecuteApiComponent\";\r\nimport HeaderComponent from \"./HeaderComponent\";\r\n\r\nexport default function ModifyApiDocComponent(props: any) {\r\n    const key = useParams().key;\r\n    const projectKey = useParams().projectKey;\r\n    const folderKey = useParams().folderKey;\r\n    const navigate = useNavigate();\r\n    const [headers, setHeaders] = useState([]);\r\n    const [name, setName] = useState('');\r\n    const [method, setMethod] = useState(1);\r\n    const [url, setUrl] = useState('');\r\n    const [body, setBody] = useState<string>('');\r\n    const [varReplace, setVarReplace] = useState();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const options = [\r\n        {\r\n            value: 1,\r\n            label: \"Get\"\r\n        },\r\n        {\r\n            value: 2,\r\n            label: \"Post\"\r\n        },\r\n        {\r\n            value: 3,\r\n            label: \"Put\"\r\n        },\r\n        {\r\n            value: 4,\r\n            label: \"Delete\"\r\n        }\r\n    ]\r\n\r\n    const [bodyObj, setBodyObj] = useState();\r\n\r\n    function isJSON(str: string) {\r\n        try {\r\n            return (JSON.parse(str) && !!str);\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const loadData = useCallback(async () => {\r\n        if (key !== undefined) {\r\n            setIsLoading(true);\r\n\r\n            ApiDocService.GetDetail(projectKey, folderKey, key)\r\n                .then((rs: any) => {\r\n                    if (rs.isSuccess) {\r\n                        let row = rs.data;\r\n                        setHeaders(row.headers);\r\n                        setName(row.name);\r\n                        setMethod(row.method);\r\n                        setUrl(row.url);\r\n                        setVarReplace(row.varReplace);\r\n                        setBody(row.body === null ? \"\" : JSON.stringify(row.body));\r\n                        setBodyObj(row.body);\r\n                    }\r\n                })\r\n                .finally(() => setIsLoading(false));\r\n        }\r\n    }, [projectKey, folderKey, key, setIsLoading])\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, [loadData])\r\n\r\n    function handleOnChangeBody(value: string) {\r\n        if (isJSON(value)) {\r\n            setBodyObj(JSON.parse(value));\r\n        }\r\n        setBody(value);\r\n    }\r\n\r\n    function filterArray() {\r\n        var t = headers;\r\n\r\n        t = t.filter((obj: any) => {\r\n            return (obj !== undefined && obj.key !== '');\r\n        })\r\n\r\n        return t;\r\n    }\r\n\r\n    function handleSubmitForm() {\r\n        setIsLoading(true);\r\n        let bodyReq = {\r\n            name: name,\r\n            headers: filterArray(),\r\n            url: url,\r\n            method: method,\r\n            varReplace: varReplace,\r\n            body: bodyObj\r\n        };\r\n\r\n        if (key === undefined) {\r\n            add(bodyReq);\r\n        } else {\r\n            edit(bodyReq);\r\n        }\r\n    }\r\n\r\n    function add(bodyReq: any) {\r\n        ApiDocService.Add(projectKey, folderKey, bodyReq)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    Fn.PrintMsgSuccessV2(rs);\r\n                    navigate(`/tools/tasks/projects/${projectKey}/codeManage/document/${folderKey}/apis/${rs.data.key}`);\r\n                }\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }\r\n\r\n    function edit(bodyReq: any) {\r\n        ApiDocService.GetDetail(projectKey, folderKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    bodyReq = Fn.GetTimestampV2(rs, bodyReq);\r\n                    ApiDocService.Edit(projectKey, folderKey, key, bodyReq)\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                            }\r\n                        })\r\n                        .finally(() => setIsLoading(false));\r\n                } else setIsLoading(false);\r\n            })\r\n    }\r\n\r\n    function handleDelete() {\r\n        Swal.fire(\"Xác nhận xóa\", \"Bạn có muốn xóa dữ liệu không?\", \"question\")\r\n            .then((result) => {\r\n                if (result.isConfirmed) {\r\n                    doDelete();\r\n                }\r\n            });\r\n    }\r\n\r\n    function doDelete() {\r\n        setIsLoading(true);\r\n        ApiDocService.GetDetail(projectKey, folderKey, key)\r\n            .then((rs: any) => {\r\n                if (rs.isSuccess) {\r\n                    ApiDocService.Delete(projectKey, folderKey, key, Fn.GetTimestampV2(rs))\r\n                        .then((rs: any) => {\r\n                            if (rs.isSuccess) {\r\n                                Fn.PrintMsgSuccessV2(rs);\r\n                                navigate(`/tools/tasks/projects/${projectKey}/codeManage/document?folder=${folderKey}`);\r\n                            }\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <MyBox\r\n            title={key !== undefined ? \"Chi tiết API\" : \"Thêm mới API\"}>\r\n            <Form\r\n                layout=\"vertical\"\r\n                onSubmitCapture={handleSubmitForm}>\r\n                <MyFormItem.Input\r\n                    label=\"Tên\"\r\n                    value={name}\r\n                    setValue={setName} />\r\n\r\n                <MyFormItem.Select\r\n                    label=\"Phương thức\"\r\n                    options={options}\r\n                    value={method}\r\n                    setValue={setMethod} />\r\n\r\n                <MyFormItem.Input\r\n                    label=\"URL\"\r\n                    value={url}\r\n                    setValue={setUrl} />\r\n\r\n                <HeaderComponent\r\n                    data={headers}\r\n                    setData={setHeaders} />\r\n\r\n                <MonacoEditorComponent\r\n                    value={body}\r\n                    setValue={(value: string) => {\r\n                        handleOnChangeBody(value);\r\n                    }} />\r\n\r\n                <MyFormItem.TextArea\r\n                    label=\"Script lưu biến \"\r\n                    value={varReplace}\r\n                    setValue={setVarReplace} />\r\n\r\n                <MyButton\r\n                    htmlType=\"submit\"\r\n                    isLoading={isLoading}\r\n                    type=\"success\"\r\n                    value={key === undefined ? \"Thêm mới\" : \"Chỉnh sửa\"} />\r\n\r\n                <MyButton\r\n                    type=\"danger\"\r\n                    isLoading={isLoading}\r\n                    onClick={handleDelete}\r\n                    disabled={key === undefined}\r\n                    value=\"Xóa\" />\r\n            </Form>\r\n\r\n            <ExecuteApiComponent\r\n                isLoading={isLoading}\r\n                setIsLoading={setIsLoading}\r\n                projectKey={projectKey}\r\n                folderKey={folderKey}\r\n                apiKey={key} />\r\n        </MyBox>\r\n    )\r\n}"],"names":["ViewResponseComponent","props","useState","data","setData","projectKey","folderKey","apiKey","visible","setVisible","isLoading","setIsLoading","loadDataDetail","useCallback","ApiDocResponseService","then","rs","isSuccess","pagedData","handleClickDelete","key","Swal","title","text","isConfirmed","Fn","finally","DoDelete","useEffect","size","open","onClose","map","index","span","Text","value","name","style","textAlign","MyButton","type","onClick","MonacoEditorComponent","height","responses","ExecuteApiComponent","statusCode","setStatusCode","response","setResponse","debug","setDebug","ApiDocService","result","JSON","stringify","request","disabled","input","preConfirm","body","saveResponse","setValue","ModifyApiDocComponent","useParams","navigate","useNavigate","headers","setHeaders","setName","method","setMethod","url","setUrl","setBody","varReplace","setVarReplace","bodyObj","setBodyObj","loadData","undefined","row","handleOnChangeBody","str","parse","e","isJSON","filterArray","t","filter","obj","MyBox","layout","onSubmitCapture","bodyReq","add","edit","label","options","HeaderComponent","htmlType"],"sourceRoot":""}