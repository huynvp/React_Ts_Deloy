{"version":3,"file":"static/js/419.4b943bde.chunk.js","mappings":"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","sources":["components/core/UI_FormatComponent.tsx","components/manage/email/TemplateMail_IndexComponent.tsx"],"sourcesContent":["import moment from \"moment\";\n\nexport function UIFormatDateVNComponent(props: any) {\n    let dateStr = \"\";\n    if (props.value !== undefined && props.value !== '' && props.value !== null) {\n        dateStr = moment(props.value).format(\"DD/MM/YYYY\");\n    } else {\n        dateStr = \"\";\n    }\n\n    return (\n        <span>{dateStr}</span>\n    );\n}\n\nexport function UIFormatDateTimeVNComponent(props: any) {\n    let dateStr = \"\";\n    if (props.value !== undefined && props.value !== '' && props.value !== null) {\n        dateStr = moment(props.value).format(\"DD/MM/YYYY HH:mm:ss\");\n    } else {\n        dateStr = \"\";\n    }\n\n    return (\n        <span>{dateStr}</span>\n    );\n}","import { Popconfirm } from \"antd\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Fn } from \"../../../helper/function\";\nimport { PaginationRequest, TableColumn } from \"../../../models/baseModel\";\nimport { MailTemplate } from \"../../../services/adminService\";\nimport { MyBox } from \"../../core/MyBox\";\nimport { MyButton } from \"../../core/MyButton\";\nimport { OrderByModel, PageInfoModel } from \"../../core/TableModel\";\nimport TableComponent from \"../../core/TableNewComponent\";\nimport { UIFormatDateTimeVNComponent } from \"../../core/UI_FormatComponent\";\n\nexport default function ManageTemplateMailIndexComponent() {\n    const navigate = useNavigate();\n    const column: any = [\n        new TableColumn({ title: \"STT\", dataIndex: \"stt\", key: \"stt\", disabled: true }),\n        new TableColumn({ title: \"Mã\", dataIndex: \"code\", key: \"code\" }),\n        new TableColumn({ title: \"Tiêu đề\", dataIndex: \"title\", key: \"title\" }),\n        new TableColumn({ title: \"App name\", dataIndex: \"appName\", key: \"appName\" }),\n        new TableColumn({\n            title: \"Ngày tạo\", dataIndex: \"createdAt\", key: \"createdAt\", render: (data: string) => {\n                return (<UIFormatDateTimeVNComponent value={data} />);\n            }\n        }),\n        new TableColumn({\n            title: \"Ngày cập nhật\", dataIndex: \"updatedAt\", key: \"updatedAt\", render: (data: string) => {\n                return (<UIFormatDateTimeVNComponent value={data} />);\n            }\n        }),\n        new TableColumn({\n            title: \"Action\", key: \"action\", disabled: true, render: (data: string, row: any) => {\n                return (\n                    <div>\n                        <MyButton\n                            onClick={() => {\n                                navigate(`/admin/template/edit/${row.key}`)\n                            }}\n                            value=\"Chỉnh sửa\"\n                            type=\"link\" />\n\n                        <Popconfirm\n                            title=\"Bạn có muốn xóa không?\"\n                            onConfirm={() => {\n                                handleClickDelete(row.key)\n                            }} >\n                            <MyButton\n                                value=\"Xóa\"\n                                type=\"link\" />\n                        </Popconfirm>\n                    </div>\n                )\n            }\n        })\n    ];\n    const [pageInfo, setPageInfo] = useState<PageInfoModel>(new PageInfoModel());\n    const [orderBy, setOrderBy] = useState<OrderByModel>(new OrderByModel());\n    const [data, setData] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const loadData = useCallback(() => {\n        setIsLoading(true);\n        let pagination = new PaginationRequest(pageInfo.pageNumber, pageInfo.pageSize, orderBy);\n        MailTemplate.GetList(pagination, (data: any) => {\n            setPageInfo(new PageInfoModel(data));\n            let row = data.data.data.pagedData.map((data: any, index: number) => {\n                return {\n                    stt: index + 1,\n                    key: data.key,\n                    code: data.code,\n                    title: data.title,\n                    appName: data.apps.map((data: any) => {\n                        return data.name\n                    }).join(\", \"),\n                    createdAt: data.createdAt,\n                    updatedAt: data.updatedAt\n                }\n            })\n            setData(row);\n        }, (err: any) => {\n            console.log(err);\n\n        }, () => {\n            setIsLoading(false);\n        })\n    }, [pageInfo.pageSize, pageInfo.pageNumber, orderBy]);\n\n    useEffect(() => {\n        loadData();\n    }, [loadData]);\n\n    function handleClickDelete(key: string) {\n        setIsLoading(true);\n        MailTemplate.Detail(key, (data: any) => {\n            MailTemplate.Delete(key, Fn.GetTimestamp(data), (data: any) => {\n                Fn.PrintMsgSuccess(data);\n                loadData();\n            }, () => {\n                setIsLoading(false);\n            })\n        }, () => {\n            setIsLoading(false);\n        })\n    }\n\n    return (\n        <MyBox\n            title=\"Quản lý template mail\"\n            isLoading={isLoading}>\n            <Link to={\"/admin/template/add\"}> <MyButton value=\"Thêm mới\" /></Link>\n            <TableComponent\n                pageInfo={pageInfo}\n                setPageInfo={setPageInfo}\n                orderBy={orderBy}\n                setOrderBy={setOrderBy}\n                column={column}\n                dataSource={data}\n                loading={isLoading}\n                loadData={loadData} />\n        </MyBox>\n    );\n}"],"names":["UIFormatDateVNComponent","props","dateStr","undefined","value","moment","format","UIFormatDateTimeVNComponent","ManageTemplateMailIndexComponent","navigate","useNavigate","column","TableColumn","title","dataIndex","key","disabled","render","data","row","onClick","type","onConfirm","setIsLoading","MailTemplate","Fn","loadData","useState","PageInfoModel","pageInfo","setPageInfo","OrderByModel","orderBy","setOrderBy","setData","isLoading","useCallback","pagination","PaginationRequest","pageNumber","pageSize","pagedData","map","index","stt","code","appName","apps","name","join","createdAt","updatedAt","err","console","log","useEffect","to","dataSource","loading"],"sourceRoot":""}